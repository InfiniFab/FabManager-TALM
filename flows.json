[
    {
        "id": "63c575ee660634f9",
        "type": "tab",
        "label": "prise photo",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "29fd68d1903a9d50",
        "type": "tab",
        "label": "Enregistrement utilisations",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "b527c2c14fc2357e",
        "type": "tab",
        "label": "Flux de base de donnée",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "f2c08f5a386b30e6",
        "type": "tab",
        "label": "Modifier enregistrement",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "004fd76ebe3d4b43",
        "type": "tab",
        "label": "Affichage photos",
        "disabled": false,
        "info": "",
        "env": []
    },
    {
        "id": "test_tab_001",
        "type": "tab",
        "label": "Flux de test",
        "disabled": false,
        "info": ""
    },
    {
        "id": "db6f982c.51d3d",
        "type": "websocket-listener",
        "z": "test_tab_001",
        "path": "/ws/colour",
        "wholemsg": "false"
    },
    {
        "id": "08f269069682e0d9",
        "type": "ui_base",
        "theme": {
            "name": "theme-custom",
            "lightTheme": {
                "default": "#0094CE",
                "baseColor": "#0094CE",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "darkTheme": {
                "default": "#097479",
                "baseColor": "#097479",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "edited": true,
                "reset": false
            },
            "customTheme": {
                "name": "Untitled Theme 1",
                "default": "#4B7930",
                "baseColor": "#4B7930",
                "baseFont": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif",
                "reset": false
            },
            "themeState": {
                "base-color": {
                    "default": "#4B7930",
                    "value": "#4B7930",
                    "edited": false
                },
                "page-titlebar-backgroundColor": {
                    "value": "#4B7930",
                    "edited": false
                },
                "page-backgroundColor": {
                    "value": "#111111",
                    "edited": false
                },
                "page-sidebar-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "group-textColor": {
                    "value": "#6db046",
                    "edited": false
                },
                "group-borderColor": {
                    "value": "#555555",
                    "edited": false
                },
                "group-backgroundColor": {
                    "value": "#333333",
                    "edited": false
                },
                "widget-textColor": {
                    "value": "#eeeeee",
                    "edited": false
                },
                "widget-backgroundColor": {
                    "value": "#4b7930",
                    "edited": false
                },
                "widget-borderColor": {
                    "value": "#333333",
                    "edited": false
                },
                "base-font": {
                    "value": "-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen-Sans,Ubuntu,Cantarell,Helvetica Neue,sans-serif"
                }
            },
            "angularTheme": {
                "primary": "indigo",
                "accents": "blue",
                "warn": "red",
                "background": "grey",
                "palette": "light"
            }
        },
        "site": {
            "name": "Fabmanager TALM",
            "hideToolbar": "false",
            "allowSwipe": "false",
            "lockMenu": "icon",
            "allowTempTheme": "true",
            "dateFormat": "DD/MM/YYYY",
            "sizes": {
                "sx": 48,
                "sy": 48,
                "gx": 6,
                "gy": 6,
                "cx": 6,
                "cy": 6,
                "px": 0,
                "py": 0
            }
        }
    },
    {
        "id": "42533697afdd57f3",
        "type": "ui_tab",
        "name": "Entrées usages",
        "icon": "forward",
        "order": 1,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "6d23db44.1697d4",
        "type": "ui_tab",
        "name": "Liste entrées",
        "icon": "list",
        "order": 3,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "e5d51755c0f66273",
        "type": "ui_tab",
        "name": "Modifier Entrées",
        "icon": "cached",
        "order": 2,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "3f5cac0da3f21bde",
        "type": "ui_tab",
        "name": "Affichage Images",
        "icon": "now_wallpaper",
        "order": 4,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "0a675065a55c6a8b",
        "type": "ui_tab",
        "name": "Test",
        "icon": "dashboard",
        "order": 5,
        "disabled": false,
        "hidden": false
    },
    {
        "id": "cb7e38a87943e192",
        "type": "ui_group",
        "name": "Usage",
        "tab": "42533697afdd57f3",
        "order": 1,
        "disp": true,
        "width": "22",
        "collapse": false,
        "className": ""
    },
    {
        "id": "eed4bf37.31aee",
        "type": "ui_group",
        "name": "Modifier entrées",
        "tab": "e5d51755c0f66273",
        "order": 1,
        "disp": true,
        "width": "5",
        "collapse": false,
        "className": ""
    },
    {
        "id": "c271905f5bdbd844",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "6d23db44.1697d4",
        "order": 1,
        "disp": true,
        "width": "27",
        "collapse": false,
        "className": ""
    },
    {
        "id": "0d38df91965e4f1f",
        "type": "ui_group",
        "name": "Group 2",
        "tab": "e5d51755c0f66273",
        "order": 2,
        "disp": true,
        "width": 18
    },
    {
        "id": "1206a460156bc9ae",
        "type": "ui_group",
        "name": "Gallerie",
        "tab": "3f5cac0da3f21bde",
        "order": 1,
        "disp": true,
        "width": "27",
        "collapse": false,
        "className": ""
    },
    {
        "id": "3f0df9d3616d3899",
        "type": "ui_group",
        "name": "Group 1",
        "tab": "0a675065a55c6a8b",
        "order": 2,
        "disp": true,
        "width": 20,
        "collapse": false,
        "className": ""
    },
    {
        "id": "eb348c43ea325940",
        "type": "ui_group",
        "name": "database",
        "tab": "0a675065a55c6a8b",
        "order": 3,
        "disp": true,
        "width": 19,
        "collapse": false,
        "className": ""
    },
    {
        "id": "f3e4d0f93ccd21bc",
        "type": "ui_spacer",
        "z": "f2c08f5a386b30e6",
        "name": "spacer",
        "group": "eed4bf37.31aee",
        "order": 2,
        "width": 1,
        "height": 1
    },
    {
        "id": "1056fd1f1c904ea6",
        "type": "ui_spacer",
        "z": "f2c08f5a386b30e6",
        "name": "spacer",
        "group": "eed4bf37.31aee",
        "order": 4,
        "width": 5,
        "height": 1
    },
    {
        "id": "3c37b594251e3a29",
        "type": "ui_spacer",
        "z": "f2c08f5a386b30e6",
        "name": "spacer",
        "group": "eed4bf37.31aee",
        "order": 5,
        "width": 5,
        "height": 1
    },
    {
        "id": "65ef96292b3cc03c",
        "type": "ui_spacer",
        "z": "f2c08f5a386b30e6",
        "name": "spacer",
        "group": "eed4bf37.31aee",
        "order": 7,
        "width": 1,
        "height": 1
    },
    {
        "id": "f4845e3804b5bfbb",
        "type": "ui_spacer",
        "z": "f2c08f5a386b30e6",
        "name": "spacer",
        "group": "eed4bf37.31aee",
        "order": 9,
        "width": 5,
        "height": 1
    },
    {
        "id": "190840a9800edbde",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 1,
        "width": 4,
        "height": 1
    },
    {
        "id": "ff26ce92d026b36b",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 3,
        "width": 3,
        "height": 1
    },
    {
        "id": "77d7214aa92515c2",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 4,
        "width": 4,
        "height": 1
    },
    {
        "id": "9fab511442ebcf56",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 5,
        "width": 3,
        "height": 1
    },
    {
        "id": "7100b10f3a1c6d49",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 6,
        "width": 4,
        "height": 1
    },
    {
        "id": "6565c1a7940c27d7",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 7,
        "width": 3,
        "height": 1
    },
    {
        "id": "d695d15c404bb3e5",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 8,
        "width": 4,
        "height": 1
    },
    {
        "id": "96db50d7b93a802b",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 9,
        "width": 3,
        "height": 1
    },
    {
        "id": "86e5f9403354cdca",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 10,
        "width": 4,
        "height": 1
    },
    {
        "id": "fc498a0b37ace0f2",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 11,
        "width": 3,
        "height": 1
    },
    {
        "id": "4c92718c881a3689",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 12,
        "width": 4,
        "height": 1
    },
    {
        "id": "868a3e1b8270c7f1",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 13,
        "width": 3,
        "height": 1
    },
    {
        "id": "55b2998e8f2c8672",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 14,
        "width": 4,
        "height": 1
    },
    {
        "id": "0f2edaef56b41bbe",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 15,
        "width": 3,
        "height": 1
    },
    {
        "id": "7f663fe388904e73",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 16,
        "width": 4,
        "height": 1
    },
    {
        "id": "f9218d009049294d",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 17,
        "width": 3,
        "height": 1
    },
    {
        "id": "8a95a8ed06e987a9",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 18,
        "width": 4,
        "height": 1
    },
    {
        "id": "50aec41a9695b979",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 19,
        "width": 3,
        "height": 1
    },
    {
        "id": "24a655f5961eba17",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 20,
        "width": 4,
        "height": 1
    },
    {
        "id": "6637f56ad0d002db",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 21,
        "width": 3,
        "height": 1
    },
    {
        "id": "7e0b2f9cea86b626",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 22,
        "width": 4,
        "height": 1
    },
    {
        "id": "50814ff0335a7f9f",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 23,
        "width": 3,
        "height": 1
    },
    {
        "id": "f46522b34cc33e1e",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 24,
        "width": 4,
        "height": 1
    },
    {
        "id": "163597ba65346f02",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 25,
        "width": 3,
        "height": 1
    },
    {
        "id": "f5ef9280ec7f376a",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 26,
        "width": 4,
        "height": 1
    },
    {
        "id": "d83d105a21c39fa3",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 27,
        "width": 3,
        "height": 1
    },
    {
        "id": "0e5fe2303fdc821e",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 28,
        "width": 1,
        "height": 1
    },
    {
        "id": "b3b60f17fe6b2178",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 31,
        "width": 10,
        "height": 1
    },
    {
        "id": "81c80f7a3c4c5dd2",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 34,
        "width": 1,
        "height": 1
    },
    {
        "id": "3ac211f01a0d438c",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 35,
        "width": 10,
        "height": 1
    },
    {
        "id": "91ebac8dbadce94f",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 36,
        "width": 1,
        "height": 1
    },
    {
        "id": "2a3159b10dce5cf5",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 37,
        "width": 10,
        "height": 1
    },
    {
        "id": "abf38c39a167557e",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 38,
        "width": 27,
        "height": 1
    },
    {
        "id": "d8dd9963c1548a33",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 41,
        "width": 5,
        "height": 1
    },
    {
        "id": "c111bb4851c9cb3b",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 43,
        "width": 15,
        "height": 1
    },
    {
        "id": "6f8c7c79fabcfad6",
        "type": "ui_spacer",
        "z": "004fd76ebe3d4b43",
        "name": "spacer",
        "group": "1206a460156bc9ae",
        "order": 45,
        "width": 3,
        "height": 1
    },
    {
        "id": "e0c3580988efce7f",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "7a5798619b88c707",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 5,
        "width": 1,
        "height": 1
    },
    {
        "id": "d93b14195ff09171",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 6,
        "width": 22,
        "height": 1
    },
    {
        "id": "9d295081399c512d",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "6683f21b3538ae44",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 10,
        "width": 2,
        "height": 1
    },
    {
        "id": "db4efd53571c4846",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 12,
        "width": 6,
        "height": 1
    },
    {
        "id": "b23ad29365742c2d",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "3fd5c70c203ffca9",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 16,
        "width": 11,
        "height": 1
    },
    {
        "id": "5aaca4c939a13858",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 18,
        "width": 1,
        "height": 1
    },
    {
        "id": "429943a8186b4442",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 20,
        "width": 2,
        "height": 1
    },
    {
        "id": "ed7f6945faee646f",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 22,
        "width": 6,
        "height": 1
    },
    {
        "id": "16a8ade8f7be0adf",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 24,
        "width": 1,
        "height": 1
    },
    {
        "id": "7dc81d835b74024b",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 26,
        "width": 11,
        "height": 1
    },
    {
        "id": "79c577889b38933d",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 28,
        "width": 1,
        "height": 1
    },
    {
        "id": "c30362f794b72a18",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 30,
        "width": 11,
        "height": 1
    },
    {
        "id": "b61fc6e923729473",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 31,
        "width": 22,
        "height": 1
    },
    {
        "id": "20300612ad48ea46",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "cb7e38a87943e192",
        "order": 33,
        "width": 11,
        "height": 1
    },
    {
        "id": "8b9b833db4d5cd3c",
        "type": "ui_spacer",
        "z": "b527c2c14fc2357e",
        "name": "spacer",
        "group": "c271905f5bdbd844",
        "order": 3,
        "width": 1,
        "height": 1
    },
    {
        "id": "323e084320b880f5",
        "type": "ui_spacer",
        "z": "b527c2c14fc2357e",
        "name": "spacer",
        "group": "c271905f5bdbd844",
        "order": 5,
        "width": 22,
        "height": 1
    },
    {
        "id": "f3318311c7abaf8f",
        "type": "MySQLdatabase",
        "name": "mariadb",
        "host": "localhost",
        "port": "3306",
        "db": "nodered",
        "tz": "",
        "charset": "UTF8"
    },
    {
        "id": "2236dfd1.c909e",
        "type": "MySQLdatabase",
        "name": "",
        "host": "127.0.0.1",
        "port": "3306",
        "db": "test",
        "tz": "",
        "charset": ""
    },
    {
        "id": "9fbd1a17f1217b11",
        "type": "ui_group",
        "name": "boutons 10 elvs",
        "tab": "0a675065a55c6a8b",
        "order": 1,
        "disp": true,
        "width": 19,
        "collapse": true,
        "className": ""
    },
    {
        "id": "ui_group_buttons",
        "type": "ui_group",
        "name": "Student Buttons",
        "tab": "",
        "order": 1,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "ui_group_dropdown",
        "type": "ui_group",
        "name": "Student Dropdown",
        "tab": "",
        "order": 2,
        "disp": true,
        "width": "6",
        "collapse": false
    },
    {
        "id": "6dbe5cee9a6e7f75",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 3,
        "width": 2,
        "height": 1
    },
    {
        "id": "5602a600c904e2e5",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 5,
        "width": 2,
        "height": 1
    },
    {
        "id": "98c94e1e1381221e",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 7,
        "width": 20,
        "height": 1
    },
    {
        "id": "f9868be0595b8e31",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 8,
        "width": 1,
        "height": 1
    },
    {
        "id": "2427ded6634c6d1b",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 10,
        "width": 2,
        "height": 1
    },
    {
        "id": "3c5bae5e79fcb80c",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 12,
        "width": 2,
        "height": 1
    },
    {
        "id": "b6d16d5fb7f8b916",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 14,
        "width": 1,
        "height": 1
    },
    {
        "id": "af738ecbac5b93cb",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 16,
        "width": 2,
        "height": 1
    },
    {
        "id": "eb4b06d0833ecb55",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 18,
        "width": 5,
        "height": 1
    },
    {
        "id": "bd445a1692b8b033",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 19,
        "width": 1,
        "height": 1
    },
    {
        "id": "f6c7e2d2f58ddedd",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 21,
        "width": 2,
        "height": 1
    },
    {
        "id": "d57f7b23d3df3002",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 23,
        "width": 2,
        "height": 1
    },
    {
        "id": "d421bb151a9119f2",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 25,
        "width": 20,
        "height": 1
    },
    {
        "id": "5b3370294118d648",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 26,
        "width": 2,
        "height": 1
    },
    {
        "id": "93405a1b7d007153",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 28,
        "width": 4,
        "height": 1
    },
    {
        "id": "0c94556dcefdddce",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 30,
        "width": 6,
        "height": 1
    },
    {
        "id": "67ab48418c02f4f6",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 31,
        "width": 2,
        "height": 1
    },
    {
        "id": "7ae48d4a239eca61",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 33,
        "width": 4,
        "height": 1
    },
    {
        "id": "163e4f5360c2b490",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 35,
        "width": 6,
        "height": 1
    },
    {
        "id": "4ecdd2e032c15298",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 36,
        "width": 20,
        "height": 1
    },
    {
        "id": "8d750a69d59fdaa8",
        "type": "ui_spacer",
        "z": "test_tab_001",
        "name": "spacer",
        "group": "3f0df9d3616d3899",
        "order": 38,
        "width": 11,
        "height": 1
    },
    {
        "id": "b4846b2d55a7522e",
        "type": "debug",
        "z": "63c575ee660634f9",
        "name": "debug 2",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1600,
        "y": 780,
        "wires": []
    },
    {
        "id": "17e0b4296375492a",
        "type": "change",
        "z": "63c575ee660634f9",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filepath",
                "pt": "msg",
                "to": "/home/pi/.node-red/lib/ui-media/lib/capture_photo/",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "time",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 940,
        "y": 380,
        "wires": [
            [
                "2cc8c6969357c87b"
            ]
        ]
    },
    {
        "id": "6749effeb46377df",
        "type": "inject",
        "z": "63c575ee660634f9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "0",
        "payloadType": "num",
        "x": 1310,
        "y": 840,
        "wires": [
            [
                "3d5cd104abcf70e0"
            ]
        ]
    },
    {
        "id": "531ffe220519f165",
        "type": "inject",
        "z": "63c575ee660634f9",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "1",
        "payloadType": "num",
        "x": 1310,
        "y": 880,
        "wires": [
            [
                "3d5cd104abcf70e0"
            ]
        ]
    },
    {
        "id": "2e2052b9b5575038",
        "type": "join",
        "z": "63c575ee660634f9",
        "name": "",
        "mode": "custom",
        "build": "string",
        "property": "payload",
        "propertyType": "msg",
        "key": "topic",
        "joiner": "\\n",
        "joinerType": "str",
        "accumulate": false,
        "timeout": "",
        "count": "2",
        "reduceRight": false,
        "reduceExp": "",
        "reduceInit": "",
        "reduceInitType": "",
        "reduceFixup": "",
        "x": 1260,
        "y": 680,
        "wires": [
            [
                "97e98c4bfb62f208"
            ]
        ]
    },
    {
        "id": "38179c84c47c6883",
        "type": "change",
        "z": "63c575ee660634f9",
        "name": "allume LED",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 600,
        "wires": [
            [
                "3d5cd104abcf70e0",
                "9699e4c143955c6c"
            ]
        ]
    },
    {
        "id": "97e98c4bfb62f208",
        "type": "change",
        "z": "63c575ee660634f9",
        "name": "etteindre LED",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1390,
        "y": 740,
        "wires": [
            [
                "3d5cd104abcf70e0",
                "b4846b2d55a7522e",
                "3514a56a864985e3"
            ]
        ]
    },
    {
        "id": "aadf218da852bb0b",
        "type": "debug",
        "z": "63c575ee660634f9",
        "name": "debug 20",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1640,
        "y": 520,
        "wires": []
    },
    {
        "id": "9699e4c143955c6c",
        "type": "debug",
        "z": "63c575ee660634f9",
        "name": "debug 21",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1580,
        "y": 600,
        "wires": []
    },
    {
        "id": "c509850758087071",
        "type": "change",
        "z": "63c575ee660634f9",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filepath",
                "pt": "msg",
                "to": "/home/pi/station_photo/",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "filename",
                "pt": "msg",
                "to": "time",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 600,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "3514a56a864985e3",
        "type": "link out",
        "z": "63c575ee660634f9",
        "name": "link out 1",
        "mode": "link",
        "links": [
            "235030a55954cb91"
        ],
        "x": 1545,
        "y": 700,
        "wires": []
    },
    {
        "id": "55b4502777e8ec3f",
        "type": "moment",
        "z": "63c575ee660634f9",
        "name": "",
        "topic": "",
        "input": "time",
        "inputType": "msg",
        "inTz": "Europe/Paris",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "YYYY-MM-DD_HH-mm-ss.jpg",
        "locale": "fr-FR",
        "output": "time",
        "outputType": "msg",
        "outTz": "Europe/Paris",
        "x": 660,
        "y": 380,
        "wires": [
            [
                "17e0b4296375492a"
            ]
        ]
    },
    {
        "id": "fd05f124bbde3140",
        "type": "moment",
        "z": "63c575ee660634f9",
        "name": "",
        "topic": "",
        "input": "time",
        "inputType": "msg",
        "inTz": "Europe/Paris",
        "adjAmount": 0,
        "adjType": "days",
        "adjDir": "add",
        "format": "DD-MM-YYYY_HH-mm-ss.jpg",
        "locale": "fr-FR",
        "output": "time",
        "outputType": "msg",
        "outTz": "Europe/Paris",
        "x": 360,
        "y": 180,
        "wires": [
            [
                "c509850758087071"
            ]
        ]
    },
    {
        "id": "595fd844a90b852d",
        "type": "rpi-gpio in",
        "z": "63c575ee660634f9",
        "name": "",
        "pin": "19",
        "intype": "up",
        "debounce": "25",
        "read": false,
        "bcm": true,
        "x": 400,
        "y": 380,
        "wires": [
            [
                "55b4502777e8ec3f"
            ]
        ]
    },
    {
        "id": "350ef72d67f39a21",
        "type": "rpi-gpio in",
        "z": "63c575ee660634f9",
        "name": "",
        "pin": "16",
        "intype": "up",
        "debounce": "25",
        "read": false,
        "bcm": true,
        "x": 140,
        "y": 180,
        "wires": [
            [
                "fd05f124bbde3140"
            ]
        ]
    },
    {
        "id": "3d5cd104abcf70e0",
        "type": "rpi-gpio out",
        "z": "63c575ee660634f9",
        "name": "",
        "pin": "26",
        "set": "",
        "level": "0",
        "freq": "",
        "out": "out",
        "bcm": true,
        "x": 1760,
        "y": 720,
        "wires": []
    },
    {
        "id": "68ffccee2ca7f911",
        "type": "rpi-gpio out",
        "z": "63c575ee660634f9",
        "name": "",
        "pin": "20",
        "set": true,
        "level": "0",
        "freq": "",
        "out": "out",
        "bcm": true,
        "x": 1080,
        "y": 760,
        "wires": []
    },
    {
        "id": "2cc8c6969357c87b",
        "type": "usbcamera",
        "z": "63c575ee660634f9",
        "filemode": "1",
        "filename": "image02.jpg",
        "filedefpath": "0",
        "filepath": "/home/pi/.node-red/lib/ui-media/lib/capture_photo",
        "fileformat": "jpeg",
        "resolution": "3",
        "name": "",
        "x": 1170,
        "y": 380,
        "wires": [
            [
                "2e2052b9b5575038",
                "38179c84c47c6883",
                "aadf218da852bb0b"
            ]
        ]
    },
    {
        "id": "6af27c38cac8ec45",
        "type": "inject",
        "z": "29fd68d1903a9d50",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 210,
        "y": 220,
        "wires": [
            [
                "c722de89350dd765",
                "9f2055aec174d3b2",
                "5cb746532d7ff88b"
            ]
        ]
    },
    {
        "id": "4f03e87cbbd1d318",
        "type": "function",
        "z": "29fd68d1903a9d50",
        "name": "function 1",
        "func": "//msg.payload = msg.payload[0][\"Nom de naissance\"];\nconst annee=[];\n\nfor (let i = 0; i < msg.payload.length; i++) {\n    if (!annee.includes(msg.payload[i][\"Promotion\"])) {\n        annee.push(msg.payload[i][\"Promotion\"]);\n    }\n    \n    \n}\nannee.sort();\nmsg.payload=annee;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 600,
        "y": 220,
        "wires": [
            [
                "6020e8d1a1cffd8d"
            ]
        ]
    },
    {
        "id": "6020e8d1a1cffd8d",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 790,
        "y": 220,
        "wires": [
            [
                "101074f8bfe56e7d"
            ]
        ]
    },
    {
        "id": "78d4f97ce7761045",
        "type": "function",
        "z": "29fd68d1903a9d50",
        "name": "function 2",
        "func": "//msg.payload = msg.payload[0][\"Nom de naissance\"];\n\nconst list_eleve=[];\n\nfor (let i = 0; i < msg.payload.length; i++) {\n    if(msg.payload[i][\"Promotion\"]==msg.annee){\n        list_eleve.push(msg.payload[i][\"Nom et Prénom d'usage\"]);\n    }\n   \n    \n}\nlist_eleve.sort();\nmsg.payload=list_eleve;\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 760,
        "y": 300,
        "wires": [
            [
                "9c0ca2dfbca831e7"
            ]
        ]
    },
    {
        "id": "d7a9d7a3004a14d4",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "annee",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1190,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "8ad9eeb4ddb33fd2",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "annee",
                "pt": "msg",
                "to": "annee",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 300,
        "wires": [
            [
                "78d4f97ce7761045"
            ]
        ]
    },
    {
        "id": "9c0ca2dfbca831e7",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 930,
        "y": 300,
        "wires": [
            [
                "c6d24f414e1f45e9"
            ]
        ]
    },
    {
        "id": "60764936453ad0af",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "impr3d_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1150,
        "y": 480,
        "wires": [
            []
        ]
    },
    {
        "id": "7c7eaaf6a06292d7",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "laser_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 720,
        "wires": [
            []
        ]
    },
    {
        "id": "90887636dcf4702f",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reglement_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1180,
        "y": 920,
        "wires": [
            []
        ]
    },
    {
        "id": "63a71ec4001ae4a4",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "cao_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1120,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "d1336edb2ec5c48c",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filament",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 580,
        "wires": [
            [
                "51405f7b6e3a125b"
            ]
        ]
    },
    {
        "id": "1290c0f66e9b3a41",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mat_laser",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1140,
        "y": 820,
        "wires": [
            [
                "a123b68cd512aa95"
            ]
        ]
    },
    {
        "id": "3c571e3c9d9e4490",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filament_gr",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1620,
        "y": 620,
        "wires": [
            [
                "798053148c5d74aa"
            ]
        ]
    },
    {
        "id": "74ccbd77093cd945",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mat_laser_qte",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1670,
        "y": 860,
        "wires": [
            [
                "030ef5bab125b0db"
            ]
        ]
    },
    {
        "id": "d93a4c99b31c1cac",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "eleve",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1300,
        "y": 300,
        "wires": [
            [
                "fbecdce87523b28b"
            ]
        ]
    },
    {
        "id": "a9ab54ffd8ec2a99",
        "type": "function",
        "z": "29fd68d1903a9d50",
        "name": "function 3",
        "func": "\nswitch (msg.payload) {\n  case 'PLA':\n    msg.payload=19.9;\n    break;\n  case 'PLA flex':\n    msg.payload=50;\n    break;\n  case 'PLA transparent':\n    msg.payload=40;\n    break;\n  case 'PLA bois':\n    msg.payload=51.8;\n    break;\n  default:\n    console.log(`type filament`);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 540,
        "wires": [
            [
                "e9aa690ca6089b80"
            ]
        ]
    },
    {
        "id": "798053148c5d74aa",
        "type": "function",
        "z": "29fd68d1903a9d50",
        "name": "function 4",
        "func": "let prix_kg;\n\nswitch (flow.get(\"filament\")) {\n  case 'PLA':\n    prix_kg=19.9;\n    break;\n  case 'PLA flex':\n    prix_kg=50;\n    break;\n  case 'PLA transparent':\n    prix_kg=40;\n    break; \n  case 'PLA bois':\n    prix_kg = 51.8;\n    break;\n  default:\n    console.log(`type filament`);\n}\n\nconst prix = prix_kg*parseInt(msg.payload)/1000;\nflow.set('prix_3d',prix);\nmsg.payload=prix;\nmsg.prix_kg=prix_kg;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1800,
        "y": 620,
        "wires": [
            [
                "da4c0a8c9632863d"
            ]
        ]
    },
    {
        "id": "f8caba8f48439c91",
        "type": "function",
        "z": "29fd68d1903a9d50",
        "name": "function 5",
        "func": "\nswitch (msg.payload) {\n  case 'PMMA 3mm':\n    msg.payload=7.8;\n    break;\n  case 'PMMA 5mm':\n    msg.payload=12.59;\n    break;\n  case 'CP 3mm':\n    msg.payload=3;\n    break;\n  case 'CP 5mm':\n    msg.payload=3.3;\n    break;\n  default:\n    console.log(`type filament`);\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1120,
        "y": 780,
        "wires": [
            [
                "3be9bc8e38f9f9f6"
            ]
        ]
    },
    {
        "id": "030ef5bab125b0db",
        "type": "function",
        "z": "29fd68d1903a9d50",
        "name": "function 6",
        "func": "let prix_u;\n\nswitch (flow.get(\"mat_laser\")) {\n  case 'PMMA 3mm':\n    prix_u=7.8;\n    break;\n  case 'PMMA 5mm':\n    prix_u=12.59;\n    break;\n  case 'CP 3mm':\n    prix_u=3;\n    break;\n  case 'CP 5mm':\n    prix_u=3.3;\n    break;\n  default:\n    console.log(`type filament`);\n}\n\nconst prix = prix_u*parseInt(msg.payload);\nflow.set('prix_laser',prix);\nmsg.payload=prix;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1860,
        "y": 860,
        "wires": [
            [
                "412e92fdd94eb917"
            ]
        ]
    },
    {
        "id": "7a9d9c4fb4c258a3",
        "type": "debug",
        "z": "29fd68d1903a9d50",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1910,
        "y": 280,
        "wires": []
    },
    {
        "id": "52e6c26f45f75063",
        "type": "function",
        "z": "29fd68d1903a9d50",
        "name": "TABLE",
        "func": "topic = \"CREATE TABLE `usage_lab_prod` ( \";\ntopic = topic + \"`no` INT NULL AUTO_INCREMENT,\";\ntopic = topic + \"`date` TIMESTAMP NOT NULL,\";\ntopic = topic + \"`classe` VARCHAR(80) NULL,\";\ntopic = topic + \"`nom` VARCHAR(80) NULL,\";\ntopic = topic + \"`fabrication` VARCHAR(80) NULL,\";\ntopic = topic + \"`prix` VARCHAR(80) NULL,\";\ntopic = topic + \"`reglement` BOOLEAN,\";\ntopic = topic + \"`CAO` BOOLEAN,\";\ntopic = topic + \"INDEX `no` (`no`)) COLLATE='latin1_swedish_ci';\";\nmsg.topic = topic;\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1790,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "5cb746532d7ff88b",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "resetSearch",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 680,
        "y": 720,
        "wires": [
            [
                "9b9dafd6dddd69ea",
                "4327689271131ff7",
                "6d774e8e9b19db35",
                "66ce8fd845dbe7a4",
                "9f2055aec174d3b2",
                "bb923250c03f5168"
            ]
        ]
    },
    {
        "id": "9f2055aec174d3b2",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1160,
        "y": 640,
        "wires": [
            [
                "51405f7b6e3a125b",
                "a123b68cd512aa95"
            ]
        ]
    },
    {
        "id": "7afdac9ed4bac921",
        "type": "debug",
        "z": "29fd68d1903a9d50",
        "name": "debug 16",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1300,
        "y": 380,
        "wires": []
    },
    {
        "id": "98542c0d7eea874d",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bdd_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 420,
        "y": 880,
        "wires": [
            []
        ]
    },
    {
        "id": "06c2a2edfe31bae4",
        "type": "debug",
        "z": "29fd68d1903a9d50",
        "name": "debug 18",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1810,
        "y": 1020,
        "wires": []
    },
    {
        "id": "56f423d3e2daa2d5",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "remarques",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1850,
        "y": 1080,
        "wires": [
            []
        ]
    },
    {
        "id": "bb923250c03f5168",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 960,
        "wires": [
            [
                "b4f4c28101a13c47"
            ]
        ]
    },
    {
        "id": "fbecdce87523b28b",
        "type": "debug",
        "z": "29fd68d1903a9d50",
        "name": "debug 28",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1520,
        "y": 380,
        "wires": []
    },
    {
        "id": "9b56e14464cc4ca4",
        "type": "debug",
        "z": "29fd68d1903a9d50",
        "name": "charg_xcl",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 520,
        "y": 140,
        "wires": []
    },
    {
        "id": "101074f8bfe56e7d",
        "type": "ui_dropdown",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "Année / Classe",
        "tooltip": "",
        "place": "Select option",
        "group": "cb7e38a87943e192",
        "order": 1,
        "width": 9,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "default",
                "value": "default ",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 980,
        "y": 220,
        "wires": [
            [
                "d7a9d7a3004a14d4",
                "40d1dc6c70446d5f"
            ]
        ]
    },
    {
        "id": "c6d24f414e1f45e9",
        "type": "ui_dropdown",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "Eleve",
        "tooltip": "",
        "place": "Select option",
        "group": "cb7e38a87943e192",
        "order": 2,
        "width": 9,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 1110,
        "y": 300,
        "wires": [
            [
                "d93a4c99b31c1cac",
                "7afdac9ed4bac921"
            ]
        ]
    },
    {
        "id": "a015e6dd1052988b",
        "type": "ui_dropdown",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "Type Filament",
        "tooltip": "",
        "place": "Select option",
        "group": "cb7e38a87943e192",
        "order": 13,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "PLA",
                "type": "str"
            },
            {
                "label": "",
                "value": "PLA flex",
                "type": "str"
            },
            {
                "label": "",
                "value": "PLA transparent",
                "type": "str"
            },
            {
                "label": "",
                "value": "PLA bois",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 940,
        "y": 540,
        "wires": [
            [
                "d1336edb2ec5c48c",
                "a9ab54ffd8ec2a99"
            ]
        ]
    },
    {
        "id": "7c248e9aee596aba",
        "type": "ui_dropdown",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "Materiel Laser",
        "tooltip": "",
        "place": "Select option",
        "group": "cb7e38a87943e192",
        "order": 15,
        "width": 5,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "CP 3mm",
                "type": "str"
            },
            {
                "label": "",
                "value": "CP 5mm",
                "type": "str"
            },
            {
                "label": "",
                "value": "PMMA 3mm",
                "type": "str"
            },
            {
                "label": "",
                "value": "PMMA 5mm",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 940,
        "y": 780,
        "wires": [
            [
                "1290c0f66e9b3a41",
                "f8caba8f48439c91"
            ]
        ]
    },
    {
        "id": "4327689271131ff7",
        "type": "ui_switch",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "Impression 3D",
        "tooltip": "",
        "group": "cb7e38a87943e192",
        "order": 7,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 940,
        "y": 480,
        "wires": [
            [
                "60764936453ad0af"
            ]
        ]
    },
    {
        "id": "9b9dafd6dddd69ea",
        "type": "ui_switch",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "Découpeuse laser",
        "tooltip": "",
        "group": "cb7e38a87943e192",
        "order": 9,
        "width": 5,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 950,
        "y": 720,
        "wires": [
            [
                "7c7eaaf6a06292d7"
            ]
        ]
    },
    {
        "id": "66ce8fd845dbe7a4",
        "type": "ui_switch",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "CAO",
        "tooltip": "",
        "group": "cb7e38a87943e192",
        "order": 21,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 950,
        "y": 1040,
        "wires": [
            [
                "63a71ec4001ae4a4"
            ]
        ]
    },
    {
        "id": "6d774e8e9b19db35",
        "type": "ui_switch",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "reglement",
        "tooltip": "",
        "group": "cb7e38a87943e192",
        "order": 11,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 970,
        "y": 920,
        "wires": [
            [
                "90887636dcf4702f"
            ]
        ]
    },
    {
        "id": "1847a4d067f34c38",
        "type": "ui_switch",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "BDD_Prod",
        "tooltip": "",
        "group": "cb7e38a87943e192",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 170,
        "y": 880,
        "wires": [
            [
                "98542c0d7eea874d"
            ]
        ]
    },
    {
        "id": "a123b68cd512aa95",
        "type": "ui_text_input",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "Quantité (unité)",
        "tooltip": "",
        "group": "cb7e38a87943e192",
        "order": 19,
        "width": 5,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 1460,
        "y": 860,
        "wires": [
            [
                "74ccbd77093cd945"
            ]
        ]
    },
    {
        "id": "51405f7b6e3a125b",
        "type": "ui_text_input",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "Quantité (en gr)",
        "tooltip": "",
        "group": "cb7e38a87943e192",
        "order": 17,
        "width": 5,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 1420,
        "y": 620,
        "wires": [
            [
                "3c571e3c9d9e4490"
            ]
        ]
    },
    {
        "id": "b4f4c28101a13c47",
        "type": "ui_text_input",
        "z": "29fd68d1903a9d50",
        "name": "",
        "label": "Remarques",
        "tooltip": "",
        "group": "cb7e38a87943e192",
        "order": 32,
        "width": 11,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 1590,
        "y": 1020,
        "wires": [
            [
                "06c2a2edfe31bae4",
                "56f423d3e2daa2d5"
            ]
        ]
    },
    {
        "id": "e9aa690ca6089b80",
        "type": "ui_text",
        "z": "29fd68d1903a9d50",
        "group": "cb7e38a87943e192",
        "order": 23,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "€/kg",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1270,
        "y": 540,
        "wires": []
    },
    {
        "id": "da4c0a8c9632863d",
        "type": "ui_text",
        "z": "29fd68d1903a9d50",
        "group": "cb7e38a87943e192",
        "order": 27,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "Prix Impression",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1960,
        "y": 620,
        "wires": []
    },
    {
        "id": "3be9bc8e38f9f9f6",
        "type": "ui_text",
        "z": "29fd68d1903a9d50",
        "group": "cb7e38a87943e192",
        "order": 25,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "€/unité",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1260,
        "y": 780,
        "wires": []
    },
    {
        "id": "412e92fdd94eb917",
        "type": "ui_text",
        "z": "29fd68d1903a9d50",
        "group": "cb7e38a87943e192",
        "order": 29,
        "width": 5,
        "height": 1,
        "name": "",
        "label": "Prix materiaux",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 2020,
        "y": 860,
        "wires": []
    },
    {
        "id": "c722de89350dd765",
        "type": "alafile in",
        "z": "29fd68d1903a9d50",
        "name": "",
        "filename": "/home/pi/Documents/test",
        "format": "xlsx",
        "columns": "*",
        "headers": true,
        "x": 430,
        "y": 220,
        "wires": [
            [
                "4f03e87cbbd1d318",
                "9b56e14464cc4ca4"
            ]
        ]
    },
    {
        "id": "40d1dc6c70446d5f",
        "type": "alafile in",
        "z": "29fd68d1903a9d50",
        "name": "",
        "filename": "/home/pi/Documents/test",
        "format": "xlsx",
        "columns": "*",
        "headers": true,
        "x": 430,
        "y": 300,
        "wires": [
            [
                "8ad9eeb4ddb33fd2"
            ]
        ]
    },
    {
        "id": "85eb08689fd153cf",
        "type": "mysql",
        "z": "29fd68d1903a9d50",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 1440,
        "y": 160,
        "wires": [
            [
                "7a9d9c4fb4c258a3"
            ]
        ]
    },
    {
        "id": "13daba232b3bb5ab",
        "type": "debug",
        "z": "29fd68d1903a9d50",
        "name": "debug 5",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 320,
        "y": 580,
        "wires": []
    },
    {
        "id": "2d1b53b3c90af572",
        "type": "change",
        "z": "29fd68d1903a9d50",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "annee",
                "pt": "msg",
                "to": "annee",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "eleve",
                "pt": "msg",
                "to": "eleve",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "impr3d_bool",
                "pt": "msg",
                "to": "impr3d_bool",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "filament",
                "pt": "msg",
                "to": "filament",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "filament_gr",
                "pt": "msg",
                "to": "filament_gr",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "laser_bool",
                "pt": "msg",
                "to": "laser_bool",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "mat_laser",
                "pt": "msg",
                "to": "mat_laser",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "mat_laser_qte",
                "pt": "msg",
                "to": "mat_laser_qte",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "reglement_bool",
                "pt": "msg",
                "to": "reglement_bool",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "cao_bool",
                "pt": "msg",
                "to": "cao_bool",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "prix_laser",
                "pt": "msg",
                "to": "prix_laser",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "prix_3d",
                "pt": "msg",
                "to": "prix_3d",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 140,
        "y": 660,
        "wires": [
            [
                "13daba232b3bb5ab",
                "10ca40917ec713d3"
            ]
        ]
    },
    {
        "id": "10ca40917ec713d3",
        "type": "function",
        "z": "29fd68d1903a9d50",
        "name": "INSERT",
        "func": "//if (Math.random() < 0.5) { room = 503;}else{ room = 602; }\n//if (Math.random() < 0.5) { id = 9909;}else{ id = 1893; }\nlet classe =msg.annee;\nlet nom = msg.eleve;\nlet fabrication=\"\";\nlet prix =0;\nif (msg.impr3d_bool)fabrication = '3d :'+ msg.filament +\" : \" + msg.filament_gr + \"gr\";\nif(msg.laser_bool)fabrication = fabrication +' // las :'  + msg.mat_laser +\" : \"+ msg.mat_laser_qte;\nlet prix_3d = flow.get('prix_3d');\nlet prix_laser = flow.get('prix_laser');\n\nlet bdd_bool = flow.get(\"bdd_bool\");\nlet table_name =\"usage_lab_test\";\nif (bdd_bool){\n    table_name=\"usage_lab\";\n}\nelse{\n    table_name=\"usage_lab_test\";\n}\n\nlet remarques = flow.get('remarques');\n\n\nif (msg.impr3d_bool)prix += parseFloat(prix_3d);\nif(msg.laser_bool)prix += parseFloat(prix_laser);\n//let prix = \"sousou\";\nlet reglement;\nif (flow.get('reglement_bool')){\n    reglement = 'true';\n}\nelse{\n    reglement = 'false';\n}\n\nlet cao;\nif (flow.get('cao_bool')){\n    cao = 'true';\n}\nelse{\n    cao = 'false';\n}\n\nlet date = new Date();\ndate = date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \"  \" + \n      date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds();\n//let reglement = \"reglement\";\n\n//let Cao = flow.get('cao_bool');\n//let Cao = \"cao\";\n\nlet topic;\n//let Cao = msg.cao_bool;\n\n\ntopic = \"INSERT INTO `nodered`.`\";\ntopic = topic + table_name+\"` (classe, nom, fabrication, prix, reglement, CAO, remarques, date_entr) VALUES ('\";\ntopic = topic + classe +\"', '\";\ntopic = topic + nom + \"', '\";\ntopic = topic + fabrication + \"', '\";\ntopic = topic + prix + \"', \";\ntopic = topic + reglement + \", \";\ntopic = topic + cao + \", '\";\ntopic = topic + remarques + \"', '\";\ntopic = topic + date + \"'); \";\n\nmsg.topic = topic;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 360,
        "y": 660,
        "wires": [
            [
                "3049e6c5aedade10"
            ]
        ]
    },
    {
        "id": "3569d93c7f7802b5",
        "type": "inject",
        "z": "29fd68d1903a9d50",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 700,
        "wires": [
            [
                "10ca40917ec713d3"
            ]
        ]
    },
    {
        "id": "c0fa7d7784f99056",
        "type": "ui_button",
        "z": "29fd68d1903a9d50",
        "name": "",
        "group": "cb7e38a87943e192",
        "order": 39,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Valider",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 130,
        "y": 580,
        "wires": [
            [
                "2d1b53b3c90af572"
            ]
        ]
    },
    {
        "id": "3049e6c5aedade10",
        "type": "mysql",
        "z": "29fd68d1903a9d50",
        "mydb": "f3318311c7abaf8f",
        "name": "mariadb",
        "x": 400,
        "y": 720,
        "wires": [
            [
                "5cb746532d7ff88b"
            ]
        ]
    },
    {
        "id": "f1a8a57d.896448",
        "type": "inject",
        "z": "b527c2c14fc2357e",
        "name": "CREATE",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 240,
        "wires": [
            [
                "16d49f4f.2f72e1"
            ]
        ]
    },
    {
        "id": "d8886e88.2e352",
        "type": "debug",
        "z": "b527c2c14fc2357e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 240,
        "wires": []
    },
    {
        "id": "565b9eff.a027b",
        "type": "inject",
        "z": "b527c2c14fc2357e",
        "name": "INSERT",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "7286764d.703128",
        "type": "debug",
        "z": "b527c2c14fc2357e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 300,
        "wires": []
    },
    {
        "id": "e11efb22.8739f8",
        "type": "inject",
        "z": "b527c2c14fc2357e",
        "name": "DELETE ",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 360,
        "wires": [
            [
                "8094763.a62db88"
            ]
        ]
    },
    {
        "id": "ee3ecafb.5dddf8",
        "type": "debug",
        "z": "b527c2c14fc2357e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 830,
        "y": 360,
        "wires": []
    },
    {
        "id": "c0fb919f.f6544",
        "type": "inject",
        "z": "b527c2c14fc2357e",
        "name": "UPDATE",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 420,
        "wires": [
            [
                "86051971.03c5c8"
            ]
        ]
    },
    {
        "id": "26081a12.74a426",
        "type": "debug",
        "z": "b527c2c14fc2357e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 830,
        "y": 420,
        "wires": []
    },
    {
        "id": "17cfb5e3.60ca7a",
        "type": "inject",
        "z": "b527c2c14fc2357e",
        "name": "COUNT",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 290,
        "y": 480,
        "wires": [
            [
                "4f194982.db8818"
            ]
        ]
    },
    {
        "id": "c1a61fe1.01abc",
        "type": "inject",
        "z": "b527c2c14fc2357e",
        "name": "SELECT",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 120,
        "y": 780,
        "wires": [
            [
                "2fa7fa16.df7d36"
            ]
        ]
    },
    {
        "id": "284382e1.7b6bde",
        "type": "comment",
        "z": "b527c2c14fc2357e",
        "name": "MariaDB",
        "info": "https://mariadb.org/\n\n//SELECT COUNT(*) FROM RANDOMNUM\n//SELECT COUNT(*) FROM `test`\n// UPDATE RANDOMNUM SET BOOL = 1 WHERE VALUE > 20 AND BOOL = 0\n\n//UPDATE `test`.`access` SET `room`='602' LIMIT 1;\n\n//DELETE FROM RANDOMNUM WHERE TIMESTAMP <= strftime('%s','now', '-30 seconds')*1000\n\n//DELETE FROM `test`.`access` WHERE  `no`=3 AND `time`='2021-06-07 17:37:03' AND `room`=503 AND `id`=1893 LIMIT 1;\n",
        "x": 280,
        "y": 120,
        "wires": []
    },
    {
        "id": "16d49f4f.2f72e1",
        "type": "function",
        "z": "b527c2c14fc2357e",
        "name": "TABLE",
        "func": "topic = \"CREATE TABLE `access` ( \";\ntopic = topic + \"`no` INT NULL AUTO_INCREMENT,\";\ntopic = topic + \"`date` TIMESTAMP NOT NULL,\";\ntopic = topic + \"`room` INT NULL,\";\ntopic = topic + \"`id` INT NULL,\";\ntopic = topic + \"INDEX `no` (`no`)) COLLATE='latin1_swedish_ci';\";\nmsg.topic = topic;\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 12,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 470,
        "y": 240,
        "wires": [
            [
                "392b8ab7.e19ac6"
            ]
        ]
    },
    {
        "id": "982a5d4d.e294f",
        "type": "inject",
        "z": "b527c2c14fc2357e",
        "name": "CREATE",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 300,
        "y": 180,
        "wires": [
            []
        ]
    },
    {
        "id": "8f16a404.412c08",
        "type": "debug",
        "z": "b527c2c14fc2357e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "x": 830,
        "y": 180,
        "wires": []
    },
    {
        "id": "3648a443.b264bc",
        "type": "function",
        "z": "b527c2c14fc2357e",
        "name": "DATABASE",
        "func": "var newMsg = {\n\"topic\" : \"CREATE DATABASE `test2`;\"\n}\nreturn newMsg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 490,
        "y": 180,
        "wires": [
            [
                "1c79da55.f69436"
            ]
        ]
    },
    {
        "id": "8094763.a62db88",
        "type": "function",
        "z": "b527c2c14fc2357e",
        "name": "DELETE ",
        "func": "var newMsg = {\n\"topic\" : \"DELETE FROM `test`.`access` ORDER BY no DESC LIMIT 1\"\n}\nreturn newMsg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 360,
        "wires": [
            [
                "30524e2a.cfc672"
            ]
        ]
    },
    {
        "id": "86051971.03c5c8",
        "type": "function",
        "z": "b527c2c14fc2357e",
        "name": "UPDATE",
        "func": "var newMsg = {\n\"topic\" : \"UPDATE `test`.`access` SET `room`='602' ORDER BY date DESC LIMIT 1;\"\n}\nreturn newMsg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 420,
        "wires": [
            [
                "9112997a.e12398"
            ]
        ]
    },
    {
        "id": "4f194982.db8818",
        "type": "function",
        "z": "b527c2c14fc2357e",
        "name": "COUNT",
        "func": "var newMsg = {\n\"topic\" : \"SELECT COUNT(*) FROM `test`.`access`;\"\n}\nreturn newMsg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 480,
        "y": 480,
        "wires": [
            [
                "ef30769c.f2b218"
            ]
        ]
    },
    {
        "id": "6bb93345.de551c",
        "type": "debug",
        "z": "b527c2c14fc2357e",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload[0]",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 840,
        "y": 480,
        "wires": []
    },
    {
        "id": "2fa7fa16.df7d36",
        "type": "function",
        "z": "b527c2c14fc2357e",
        "name": "SELECT",
        "func": "let bdd_bool = flow.get(\"bdd_bool\");\nlet unpayed = flow.get(\"payed\");\nlet table_name = \"usage_lab_test\";\n\nif (bdd_bool) {\n    table_name = \"usage_lab\";\n}\nelse {\n    table_name = \"usage_lab_test\";\n}\nlet topic = \"\";\n// Construction correcte de la requête\ntopic = \"SELECT * FROM `nodered`.`\" + table_name + \"`\";\n\n// Ajout de WHERE après le nom de la table\nif (unpayed) {\n    topic += \" WHERE `reglement` = 0\";\n}\n\ntopic += \" ORDER BY no DESC;\";\n\n\nvar newMsg = {\n    \"topic\": topic\n}\nreturn newMsg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 700,
        "y": 780,
        "wires": [
            [
                "dd12c746.831c48",
                "1f80bf8b66dd158b"
            ]
        ]
    },
    {
        "id": "6d7d1453.5a80ec",
        "type": "function",
        "z": "b527c2c14fc2357e",
        "name": "Date to TS",
        "func": "\nfor(var i = 0; i < msg.payload.length; i++){\n    var dd = new Date(parseInt((new Date(msg.payload[i].date).getTime()).toFixed(0)));\n    msg.payload[i].date = dd.toLocaleTimeString('it-IT');\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1350,
        "y": 780,
        "wires": [
            [
                "99b466a0.219ac8"
            ]
        ]
    },
    {
        "id": "cb4de9f3.133428",
        "type": "link out",
        "z": "b527c2c14fc2357e",
        "name": "",
        "mode": "link",
        "links": [
            "2061246d.5ba25c"
        ],
        "x": 1005,
        "y": 780,
        "wires": []
    },
    {
        "id": "2061246d.5ba25c",
        "type": "link in",
        "z": "b527c2c14fc2357e",
        "name": "",
        "links": [
            "cb4de9f3.133428"
        ],
        "x": 1235,
        "y": 780,
        "wires": [
            [
                "6d7d1453.5a80ec"
            ]
        ]
    },
    {
        "id": "b5d764fb2dbd31aa",
        "type": "change",
        "z": "b527c2c14fc2357e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bdd_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "payload ? \"prod\" : \"test\"",
                "tot": "jsonata"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 500,
        "y": 740,
        "wires": [
            [
                "2fa7fa16.df7d36",
                "a82b0a7912e17ef7"
            ]
        ]
    },
    {
        "id": "1f80bf8b66dd158b",
        "type": "debug",
        "z": "b527c2c14fc2357e",
        "name": "debug 38",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 720,
        "wires": []
    },
    {
        "id": "e20b2c55df6b0318",
        "type": "change",
        "z": "b527c2c14fc2357e",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payed",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 510,
        "y": 820,
        "wires": [
            [
                "2fa7fa16.df7d36"
            ]
        ]
    },
    {
        "id": "a82b0a7912e17ef7",
        "type": "debug",
        "z": "b527c2c14fc2357e",
        "name": "debug 40",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "background",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 560,
        "y": 620,
        "wires": []
    },
    {
        "id": "b97e4ddcf0d6373a",
        "type": "ui_switch",
        "z": "b527c2c14fc2357e",
        "name": "",
        "label": "BDD_Prod",
        "tooltip": "",
        "group": "c271905f5bdbd844",
        "order": 2,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "red",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "green",
        "animate": true,
        "className": "",
        "x": 290,
        "y": 740,
        "wires": [
            [
                "b5d764fb2dbd31aa"
            ]
        ]
    },
    {
        "id": "a02311916fed3d3d",
        "type": "ui_switch",
        "z": "b527c2c14fc2357e",
        "name": "",
        "label": "Tout / Impayé",
        "tooltip": "",
        "group": "c271905f5bdbd844",
        "order": 4,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 300,
        "y": 820,
        "wires": [
            [
                "e20b2c55df6b0318"
            ]
        ]
    },
    {
        "id": "99b466a0.219ac8",
        "type": "ui_template",
        "z": "b527c2c14fc2357e",
        "group": "c271905f5bdbd844",
        "name": "",
        "order": 1,
        "width": 27,
        "height": 19,
        "format": "<table style=\"width:100%\">\n    <tr>\n        <th>Index</th>\n        <th>Time</th>\n        <th>Classe</th>\n        <th>nom</th>\n        <th>fabrication</th>\n        <th>prix</th>\n        <th>reglement</th>\n        <th>cao</th>\n        <th>remarques</th>\n    </tr>\n    <tr ng-repeat=\"x in msg.payload | limitTo:30\">\n        <td>\n            <center>{{$index}}</center>\n        </td>\n        <td>\n            <center>{{msg.payload[$index].date_entr}}</center>\n        </td>\n        <td>\n            <center>{{msg.payload[$index].classe}}</center>\n        </td>\n        <td>\n            <center>{{msg.payload[$index].nom}}</center>\n        </td>\n        <td>\n            <center>{{msg.payload[$index].fabrication}}</center>\n        </td>\n        <td>\n            <center>{{msg.payload[$index].prix}}</center>\n        </td>\n        <td>\n            <center>{{msg.payload[$index].reglement}}</center>\n        </td>\n        <td>\n            <center>{{msg.payload[$index].CAO}}</center>\n        </td>\n        <td>\n            <center>{{msg.payload[$index].remarques}}</center>\n        </td>\n    </tr>\n</table>",
        "storeOutMessages": true,
        "fwdInMessages": true,
        "resendOnRefresh": false,
        "templateScope": "local",
        "className": "",
        "x": 1540,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "fdbcc9a.f22b838",
        "type": "mysql",
        "z": "b527c2c14fc2357e",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 660,
        "y": 300,
        "wires": [
            [
                "7286764d.703128"
            ]
        ]
    },
    {
        "id": "392b8ab7.e19ac6",
        "type": "mysql",
        "z": "b527c2c14fc2357e",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 660,
        "y": 240,
        "wires": [
            [
                "d8886e88.2e352"
            ]
        ]
    },
    {
        "id": "1c79da55.f69436",
        "type": "mysql",
        "z": "b527c2c14fc2357e",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 660,
        "y": 180,
        "wires": [
            [
                "8f16a404.412c08"
            ]
        ]
    },
    {
        "id": "30524e2a.cfc672",
        "type": "mysql",
        "z": "b527c2c14fc2357e",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 660,
        "y": 360,
        "wires": [
            [
                "ee3ecafb.5dddf8"
            ]
        ]
    },
    {
        "id": "9112997a.e12398",
        "type": "mysql",
        "z": "b527c2c14fc2357e",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 660,
        "y": 420,
        "wires": [
            [
                "26081a12.74a426"
            ]
        ]
    },
    {
        "id": "ef30769c.f2b218",
        "type": "mysql",
        "z": "b527c2c14fc2357e",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 660,
        "y": 480,
        "wires": [
            [
                "6bb93345.de551c"
            ]
        ]
    },
    {
        "id": "dd12c746.831c48",
        "type": "mysql",
        "z": "b527c2c14fc2357e",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 890,
        "y": 780,
        "wires": [
            [
                "cb4de9f3.133428"
            ]
        ]
    },
    {
        "id": "87ff094e498a9ea3",
        "type": "inject",
        "z": "f2c08f5a386b30e6",
        "name": "SELECT",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "1",
        "crontab": "",
        "once": false,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 160,
        "y": 120,
        "wires": [
            [
                "d6dc825145b31a87",
                "f8d99c09ead0509f",
                "7ee19bf146a4384d",
                "45d78489e3bb9f2e",
                "0c8c6a1dd525c4c5",
                "6ebd63f3bed86551",
                "42fc1b9ad9c7d5d5"
            ]
        ]
    },
    {
        "id": "d6dc825145b31a87",
        "type": "function",
        "z": "f2c08f5a386b30e6",
        "name": "SELECT",
        "func": "let bdd_bool = flow.get(\"bdd_bool\");\nlet table_name = \"usage_lab_test\";\n\nif (bdd_bool) {\n    table_name = \"usage_lab\";\n}\nelse {\n    table_name = \"usage_lab_test\";\n}\n\nlet topic = \"\";\ntopic = \"SELECT * FROM `nodered`.`\";\ntopic = topic + table_name + \"` ORDER BY date DESC;\";\n\nvar newMsg = {\n\"topic\" : topic\n}\nreturn newMsg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 520,
        "y": 120,
        "wires": [
            [
                "d8dc8a75c00c4d52"
            ]
        ]
    },
    {
        "id": "58f39d62536cdda9",
        "type": "function",
        "z": "f2c08f5a386b30e6",
        "name": "Date to TS",
        "func": "\nfor(var i = 0; i < msg.payload.length; i++){\n    var dd = new Date(parseInt((new Date(msg.payload[i].date).getTime()).toFixed(0)));\n    msg.payload[i].date = dd.toLocaleTimeString('it-IT');\n}\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 750,
        "y": 180,
        "wires": [
            [
                "cc55b45c7a8a7316",
                "a6faa8abcca4a977"
            ]
        ]
    },
    {
        "id": "b45a1f301b0e264c",
        "type": "link out",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "links": [
            "abc423ecf8cc0c7c"
        ],
        "x": 815,
        "y": 120,
        "wires": []
    },
    {
        "id": "abc423ecf8cc0c7c",
        "type": "link in",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "links": [
            "b45a1f301b0e264c"
        ],
        "x": 595,
        "y": 180,
        "wires": [
            [
                "58f39d62536cdda9"
            ]
        ]
    },
    {
        "id": "cc55b45c7a8a7316",
        "type": "debug",
        "z": "f2c08f5a386b30e6",
        "name": "debug 14",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1110,
        "y": 180,
        "wires": []
    },
    {
        "id": "a6faa8abcca4a977",
        "type": "function",
        "z": "f2c08f5a386b30e6",
        "name": "function 7",
        "func": "/*for (let i = 0; i < msg.payload.length; i++) {\n    flow.set('liste_eleve',msg.payload)\n   \n    \n}*/\nflow.set('liste_eleve',msg.payload);\n\n/*\nlet index_list = flow.get('index_liste');\nif (index_list.length == \"0\") {\n    flow.set('index_liste',0);\n}\n\n//flow.set('index_liste',1);\n\nlet tablo = flow.get('liste_eleve')\n//flow.set('bouton_1',tablo[2][\"nom\"]);\n//let i = flow.get('index_liste');\n\nlet k = flow.get('index_liste');\n\nfor (let i = 1; i < 7; i++) {\n    if (k+i-1<tablo.length && k+i-1>=0){\n        flow.set('bouton_'+i,tablo[k+i-1][\"nom\"]);\n    }\n    else if (k+i-1>tablo.length){\n        flow.set('bouton_' + i, tablo[k-tablo.length + i][\"nom\"]);\n    }\n    \n\n}\n*/\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1090,
        "y": 220,
        "wires": [
            []
        ]
    },
    {
        "id": "f8d99c09ead0509f",
        "type": "change",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "bouton_2",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "green",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 260,
        "wires": [
            [
                "7d7ea95a51b176b5"
            ]
        ]
    },
    {
        "id": "7ee19bf146a4384d",
        "type": "change",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "bouton_3",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "background",
                "pt": "msg",
                "to": "red",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 300,
        "wires": [
            [
                "71be0307bc186628"
            ]
        ]
    },
    {
        "id": "45d78489e3bb9f2e",
        "type": "change",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "bouton_4",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 340,
        "wires": [
            [
                "4e57f98731bc5ed4"
            ]
        ]
    },
    {
        "id": "0c8c6a1dd525c4c5",
        "type": "change",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "bouton_5",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 380,
        "wires": [
            [
                "cfa2959168cf7cc2"
            ]
        ]
    },
    {
        "id": "6ebd63f3bed86551",
        "type": "change",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "bouton_6",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 780,
        "y": 420,
        "wires": [
            [
                "c7c345372c4d5b79"
            ]
        ]
    },
    {
        "id": "42fc1b9ad9c7d5d5",
        "type": "change",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "index_liste",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 370,
        "y": 60,
        "wires": [
            [
                "cdb994d38192aeda"
            ]
        ]
    },
    {
        "id": "8eff64b6cbcb7ab6",
        "type": "function",
        "z": "f2c08f5a386b30e6",
        "name": "function 8",
        "func": "let i =flow.get('index_liste');\n\n\ni+=1;\n\nif (i>flow.get('liste_eleve').length-1)i=0;\nflow.set('index_liste',i);\nmsg.payload=flow.get('index_liste');\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 620,
        "wires": [
            [
                "b047e1b87ed02405"
            ]
        ]
    },
    {
        "id": "9e53d8c7b95954c8",
        "type": "function",
        "z": "f2c08f5a386b30e6",
        "name": "function 9",
        "func": "let i =flow.get('index_liste');\n\n\ni-=1;\nif (i<=0)i=flow.get('liste_eleve').length-1;\nflow.set('index_liste',i);\nmsg.payload=flow.get('index_liste');\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 270,
        "y": 660,
        "wires": [
            [
                "b047e1b87ed02405"
            ]
        ]
    },
    {
        "id": "b047e1b87ed02405",
        "type": "function",
        "z": "f2c08f5a386b30e6",
        "name": "function 10",
        "func": "let tablo = flow.get('liste_eleve');\n\nlet k = flow.get('index_liste');\n//let i = msg.payload;\n\n/*\nif (k+i-1<tablo.length && k+i-1>=0){\n        //flow.set('bouton_'+i,tablo[k+i-1][\"nom\"]);\n        msg.promotion = tablo[k+i][\"classe\"];\n        msg.nom = tablo[k+i][\"nom\"];\n    }\n    else if (k+i-1>tablo.length){\n        //flow.set('bouton_' + i, tablo[k-tablo.length + i][\"nom\"]);\n        msg.promotion = tablo[k-tablo.length + i][\"classe\"];\n        msg.nom = tablo[k-tablo.length + i][\"nom\"];\n    }\n\nmsg.index = k;\n*/\n\nmsg.nom = tablo[k][\"nom\"];\nmsg.promotion = tablo[k][\"classe\"];\n\nmsg.date = tablo[k][\"date_entr\"];\nmsg.no = tablo[k][\"no\"];\nmsg.fabrication = tablo[k][\"fabrication\"];\nmsg.prix = tablo[k][\"prix\"];\n\nlet reglement = tablo[k][\"reglement\"];\n\nif (reglement){\n    flow.set(\"reglement\",true);\n}\nelse{\n    flow.set(\"reglement\",false);\n}\n\n\nmsg.payload=tablo[k][\"nom\"];\n//msg.payload=k;\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 510,
        "y": 600,
        "wires": [
            [
                "970b91708de16a1b",
                "42c7452fed073dfb",
                "a5b33c556dba966f",
                "4919c6f4b5c0102f",
                "3ac87215cccec724",
                "46d4da45b4fe83b6",
                "11f6c3031247c80c",
                "f6493ff2564a5611"
            ]
        ]
    },
    {
        "id": "4919c6f4b5c0102f",
        "type": "debug",
        "z": "f2c08f5a386b30e6",
        "name": "debug 15",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 710,
        "y": 860,
        "wires": []
    },
    {
        "id": "0690907f34c7660c",
        "type": "change",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bdd_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 540,
        "wires": [
            [
                "d6dc825145b31a87",
                "b047e1b87ed02405"
            ]
        ]
    },
    {
        "id": "3ac87215cccec724",
        "type": "change",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "reglement",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 760,
        "y": 760,
        "wires": [
            [
                "449dab1a249138b3"
            ]
        ]
    },
    {
        "id": "50c0b9b7beabb1be",
        "type": "inject",
        "z": "f2c08f5a386b30e6",
        "name": "UPDATE",
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 880,
        "y": 920,
        "wires": [
            [
                "7b2f463235307884"
            ]
        ]
    },
    {
        "id": "e1ab8eba5edc78da",
        "type": "debug",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "x": 1410,
        "y": 920,
        "wires": []
    },
    {
        "id": "7b2f463235307884",
        "type": "function",
        "z": "f2c08f5a386b30e6",
        "name": "UPDATE",
        "func": "let tablo = flow.get('liste_eleve');\n\nlet k = flow.get('index_liste');\n\n\nlet bdd_bool = flow.get(\"bdd_bool\");\nlet table_name = \"usage_lab_test\";\n\nif (bdd_bool) {\n    table_name = \"usage_lab\";\n}\nelse {\n    table_name = \"usage_lab_test\";\n}\nlet reglement= flow.get('reglement');\n\nlet topic = \"\";\ntopic = \"UPDATE `fabmanager`.`\";\ntopic = topic + table_name + \"` SET `reglement` =\";\ntopic = topic + reglement + \" WHERE `no`=\";\ntopic = topic + tablo[k][\"no\"] + \";\";\nvar newMsg = {\n    \"topic\": topic\n}\n/*\nvar newMsg = {\n\"topic\" : \"UPDATE `test`.`access` SET `room`='602' ORDER BY date DESC LIMIT 1;\"\n}\n*/\nreturn newMsg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1060,
        "y": 920,
        "wires": [
            [
                "39246dedaa33c1e1",
                "53634e54e9286394"
            ]
        ]
    },
    {
        "id": "cae5593c0134bfd9",
        "type": "change",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reglement",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 970,
        "y": 840,
        "wires": [
            [
                "7b2f463235307884"
            ]
        ]
    },
    {
        "id": "53634e54e9286394",
        "type": "debug",
        "z": "f2c08f5a386b30e6",
        "name": "debug 17",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1250,
        "y": 980,
        "wires": []
    },
    {
        "id": "8b09ba0694a064e0",
        "type": "inject",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 90,
        "y": 460,
        "wires": [
            [
                "04db25d2a607bdf3"
            ]
        ]
    },
    {
        "id": "04db25d2a607bdf3",
        "type": "change",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "index_liste",
                "pt": "flow",
                "to": "1",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 330,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "cc289aa763cf5d08",
        "type": "ui_button",
        "z": "f2c08f5a386b30e6",
        "name": "next_but",
        "group": "eed4bf37.31aee",
        "order": 8,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "{{flow.index_liste}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "skip_next",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 110,
        "y": 620,
        "wires": [
            [
                "8eff64b6cbcb7ab6"
            ]
        ]
    },
    {
        "id": "7d7ea95a51b176b5",
        "type": "ui_button",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "group": "eed4bf37.31aee",
        "order": 10,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "{{msg.payload}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "",
        "payload": "1",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 950,
        "y": 260,
        "wires": [
            []
        ]
    },
    {
        "id": "71be0307bc186628",
        "type": "ui_button",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "group": "eed4bf37.31aee",
        "order": 11,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "{{msg.payload}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "{{background}}",
        "className": "",
        "icon": "",
        "payload": "2",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 950,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "4e57f98731bc5ed4",
        "type": "ui_button",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "group": "eed4bf37.31aee",
        "order": 12,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "{{msg.payload}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "3",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 950,
        "y": 340,
        "wires": [
            []
        ]
    },
    {
        "id": "cfa2959168cf7cc2",
        "type": "ui_button",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "group": "eed4bf37.31aee",
        "order": 13,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "{{msg.payload}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "4",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 950,
        "y": 380,
        "wires": [
            []
        ]
    },
    {
        "id": "c7c345372c4d5b79",
        "type": "ui_button",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "group": "eed4bf37.31aee",
        "order": 14,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "{{msg.payload}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "5",
        "payloadType": "num",
        "topic": "topic",
        "topicType": "msg",
        "x": 950,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "e8e1df34a8df5a8d",
        "type": "ui_button",
        "z": "f2c08f5a386b30e6",
        "name": "prev_but",
        "group": "eed4bf37.31aee",
        "order": 6,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "skip_previous",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 110,
        "y": 660,
        "wires": [
            [
                "9e53d8c7b95954c8"
            ]
        ]
    },
    {
        "id": "920aba19d475c3c8",
        "type": "ui_switch",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "label": "BDD_Prod",
        "tooltip": "",
        "group": "eed4bf37.31aee",
        "order": 1,
        "width": 2,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 90,
        "y": 540,
        "wires": [
            [
                "0690907f34c7660c",
                "04db25d2a607bdf3"
            ]
        ]
    },
    {
        "id": "449dab1a249138b3",
        "type": "ui_switch",
        "z": "f2c08f5a386b30e6",
        "name": "",
        "label": "reglement",
        "tooltip": "",
        "group": "0d38df91965e4f1f",
        "order": 7,
        "width": 0,
        "height": 0,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 960,
        "y": 760,
        "wires": [
            [
                "cae5593c0134bfd9"
            ]
        ]
    },
    {
        "id": "970b91708de16a1b",
        "type": "ui_text",
        "z": "f2c08f5a386b30e6",
        "group": "0d38df91965e4f1f",
        "order": 2,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Promotion",
        "format": "{{msg.promotion}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 730,
        "y": 560,
        "wires": []
    },
    {
        "id": "a5b33c556dba966f",
        "type": "ui_text",
        "z": "f2c08f5a386b30e6",
        "group": "0d38df91965e4f1f",
        "order": 3,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Eleve",
        "format": "{{msg.nom}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 710,
        "y": 640,
        "wires": []
    },
    {
        "id": "42c7452fed073dfb",
        "type": "ui_text",
        "z": "f2c08f5a386b30e6",
        "group": "0d38df91965e4f1f",
        "order": 4,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Date",
        "format": "{{msg.date}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 710,
        "y": 600,
        "wires": []
    },
    {
        "id": "cdb994d38192aeda",
        "type": "ui_text",
        "z": "f2c08f5a386b30e6",
        "group": "eed4bf37.31aee",
        "order": 3,
        "width": 2,
        "height": 1,
        "name": "",
        "label": "index",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 550,
        "y": 60,
        "wires": []
    },
    {
        "id": "46d4da45b4fe83b6",
        "type": "ui_text",
        "z": "f2c08f5a386b30e6",
        "group": "0d38df91965e4f1f",
        "order": 1,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "No",
        "format": "{{msg.no}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 710,
        "y": 520,
        "wires": []
    },
    {
        "id": "11f6c3031247c80c",
        "type": "ui_text",
        "z": "f2c08f5a386b30e6",
        "group": "0d38df91965e4f1f",
        "order": 5,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Fabrication",
        "format": "{{msg.fabrication}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 730,
        "y": 680,
        "wires": []
    },
    {
        "id": "f6493ff2564a5611",
        "type": "ui_text",
        "z": "f2c08f5a386b30e6",
        "group": "0d38df91965e4f1f",
        "order": 6,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "Prix",
        "format": "{{msg.prix}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 710,
        "y": 720,
        "wires": []
    },
    {
        "id": "d8dc8a75c00c4d52",
        "type": "mysql",
        "z": "f2c08f5a386b30e6",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 700,
        "y": 120,
        "wires": [
            [
                "b45a1f301b0e264c"
            ]
        ]
    },
    {
        "id": "39246dedaa33c1e1",
        "type": "mysql",
        "z": "f2c08f5a386b30e6",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 1240,
        "y": 920,
        "wires": [
            [
                "e1ab8eba5edc78da"
            ]
        ]
    },
    {
        "id": "d600ce69a861afe9",
        "type": "inject",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "props": [
            {
                "p": "src",
                "v": "/home/pi/Pictures/deleuse.jpg",
                "vt": "str"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 640,
        "wires": [
            [
                "672034a071001a62"
            ]
        ]
    },
    {
        "id": "4bef71af9121b245",
        "type": "debug",
        "z": "004fd76ebe3d4b43",
        "name": "debug 22",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 470,
        "y": 120,
        "wires": []
    },
    {
        "id": "672034a071001a62",
        "type": "debug",
        "z": "004fd76ebe3d4b43",
        "name": "debug 23",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 450,
        "y": 700,
        "wires": []
    },
    {
        "id": "9455f28b473c8c5f",
        "type": "inject",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "props": [
            {
                "p": "src",
                "v": "/home/pi/Pictures/deleuse.jpg",
                "vt": "str"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 680,
        "wires": [
            [
                "672034a071001a62"
            ]
        ]
    },
    {
        "id": "5da7851633f9186c",
        "type": "inject",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "props": [
            {
                "p": "src",
                "v": "chrome://branding/content/about-logo.png",
                "vt": "str"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 720,
        "wires": [
            [
                "672034a071001a62"
            ]
        ]
    },
    {
        "id": "f55676bdcfe10167",
        "type": "inject",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "props": [
            {
                "p": "src",
                "v": "image02.jpg",
                "vt": "str"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "x": 130,
        "y": 760,
        "wires": [
            []
        ]
    },
    {
        "id": "3a05bef2f880b03f",
        "type": "inject",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "{\"capture_photo\": \"image01\"}",
        "payloadType": "str",
        "x": 130,
        "y": 800,
        "wires": [
            [
                "5f793ca838ccd599"
            ]
        ]
    },
    {
        "id": "5f793ca838ccd599",
        "type": "json",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "property": "payload",
        "action": "",
        "pretty": false,
        "x": 290,
        "y": 760,
        "wires": [
            [
                "672034a071001a62"
            ]
        ]
    },
    {
        "id": "75aa9f4692b7ddb5",
        "type": "inject",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "capture_photo/image01.jpg",
        "payloadType": "str",
        "x": 130,
        "y": 840,
        "wires": [
            [
                "672034a071001a62"
            ]
        ]
    },
    {
        "id": "8abf24b8ec9b6edc",
        "type": "inject",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "capture_photo/image02.jpg",
        "payloadType": "str",
        "x": 350,
        "y": 1120,
        "wires": [
            []
        ]
    },
    {
        "id": "e1977a6f0a8dce32",
        "type": "debug",
        "z": "004fd76ebe3d4b43",
        "name": "debug 24",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 740,
        "y": 420,
        "wires": []
    },
    {
        "id": "9dc7476e8af583e4",
        "type": "inject",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "/home/pi/.node-red/lib/ui-media/lib/capture_photo",
        "payloadType": "str",
        "x": 260,
        "y": 380,
        "wires": [
            [
                "cdab3bc9e415b95a",
                "b322b901368438e5"
            ]
        ]
    },
    {
        "id": "9dca0c7a94093ec2",
        "type": "function",
        "z": "004fd76ebe3d4b43",
        "name": "function 11",
        "func": "//flow.set('liste',msg.list);\nlet list_nom = flow.get('liste');\nlet index = flow.get('index');\n\nflow.set('length',list_nom.length);\n\nif(2<=index && index<(list_nom.length-2)){\n    flow.set('image1', \"capture_photo/\" + list_nom[index - 2]);\n    flow.set('image2', \"capture_photo/\" + list_nom[index - 1]);\n    flow.set('image3', \"capture_photo/\" + list_nom[index-1]);\n    flow.set('image4', \"capture_photo/\" + list_nom[index + 1]);\n    flow.set('image5', \"capture_photo/\" + list_nom[index + 2]);\n}\nelse if (index<2){\n    flow.set('image1', \"capture_photo/\" + list_nom[list_nom.length-1]);\n    flow.set('image2', \"capture_photo/\" + list_nom[index - 1]);\n    flow.set('image3', \"capture_photo/\" + list_nom[index-1]);\n    flow.set('image4', \"capture_photo/\" + list_nom[index + 1]);\n    flow.set('image5', \"capture_photo/\" + list_nom[index + 2]);\n}\nelse if (index>list_nom.length-3){\n    flow.set('image1', \"capture_photo/\" + list_nom[index - 2]);\n    flow.set('image2', \"capture_photo/\" + list_nom[index - 1]);\n    flow.set('image3', \"capture_photo/\" + list_nom[index]);\n    flow.set('image4', \"capture_photo/\" + list_nom[0]);\n    flow.set('image5', \"capture_photo/\" + list_nom[1]);\n}\n\n\n\nmsg.payload = list_nom;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 670,
        "y": 220,
        "wires": [
            [
                "5268d897f718c8b7",
                "0704742c736f787e",
                "060570bfa7667eeb",
                "c3bf91ac5b479274",
                "69d8684bed831d62",
                "3ee5e714cc4f652e",
                "b934b8866518438c",
                "dafa7cd8d2368f80"
            ]
        ]
    },
    {
        "id": "5268d897f718c8b7",
        "type": "debug",
        "z": "004fd76ebe3d4b43",
        "name": "debug 25",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 940,
        "y": 220,
        "wires": []
    },
    {
        "id": "0704742c736f787e",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "image1",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 420,
        "wires": [
            [
                "12b795d90ea2787b",
                "ebc575b91cf056a5"
            ]
        ]
    },
    {
        "id": "ebc575b91cf056a5",
        "type": "debug",
        "z": "004fd76ebe3d4b43",
        "name": "debug 26",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1190,
        "y": 360,
        "wires": []
    },
    {
        "id": "060570bfa7667eeb",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "image2",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 460,
        "wires": [
            [
                "1051e89103a32e2f"
            ]
        ]
    },
    {
        "id": "c3bf91ac5b479274",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "image3",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 500,
        "wires": [
            [
                "68a83139960b7252"
            ]
        ]
    },
    {
        "id": "69d8684bed831d62",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "image4",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 540,
        "wires": [
            [
                "b9b098a07050f34f"
            ]
        ]
    },
    {
        "id": "3ee5e714cc4f652e",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "image5",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 980,
        "y": 580,
        "wires": [
            [
                "b59b6356dbd62fd6"
            ]
        ]
    },
    {
        "id": "b322b901368438e5",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "index",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 470,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "9e3add95f8d82f66",
        "type": "function",
        "z": "004fd76ebe3d4b43",
        "name": "function 12",
        "func": "let l =flow.get('length');\nlet i = flow.get('index');\n\ni+=1;\n\nif (i>l-1)i=0;\nflow.set('index',i);\nflow.set('length',l);\nmsg.payload=i;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 160,
        "wires": [
            [
                "4bef71af9121b245",
                "9dca0c7a94093ec2"
            ]
        ]
    },
    {
        "id": "b934b8866518438c",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "index",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 140,
        "wires": [
            [
                "db2f628f79c13aca",
                "ac3a9d5f97652b9e"
            ]
        ]
    },
    {
        "id": "dafa7cd8d2368f80",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "length",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 960,
        "y": 100,
        "wires": [
            [
                "ad2c6788e18c3d70",
                "0ec8754dfad04ad5"
            ]
        ]
    },
    {
        "id": "2099104941a8c39f",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "liste",
                "pt": "flow",
                "to": "list",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 620,
        "y": 360,
        "wires": [
            []
        ]
    },
    {
        "id": "eaefd8dca06743d9",
        "type": "inject",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "props": [
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "",
        "x": 500,
        "y": 40,
        "wires": [
            [
                "9dca0c7a94093ec2"
            ]
        ]
    },
    {
        "id": "6a51fa1bc002735a",
        "type": "function",
        "z": "004fd76ebe3d4b43",
        "name": "function 13",
        "func": "let l =flow.get('length');\nlet i = flow.get('index');\n\ni-=1;\n\nif (i<0)i=l-1;\nflow.set('index',i);\nflow.set('length',l);\nmsg.payload=i;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 310,
        "y": 200,
        "wires": [
            [
                "9dca0c7a94093ec2"
            ]
        ]
    },
    {
        "id": "235030a55954cb91",
        "type": "link in",
        "z": "004fd76ebe3d4b43",
        "name": "link in 1",
        "links": [
            "3514a56a864985e3"
        ],
        "x": 75,
        "y": 300,
        "wires": [
            [
                "61fb1a6bba593eee",
                "49375494092bc0fa"
            ]
        ]
    },
    {
        "id": "61fb1a6bba593eee",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "/home/pi/.node-red/lib/ui-media/lib/capture_photo",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 240,
        "y": 320,
        "wires": [
            [
                "cdab3bc9e415b95a",
                "1d176eb5ca9241e7"
            ]
        ]
    },
    {
        "id": "49375494092bc0fa",
        "type": "trigger",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "op1": "1",
        "op2": "1",
        "op1type": "str",
        "op2type": "str",
        "duration": "250",
        "extend": false,
        "overrideDelay": false,
        "units": "ms",
        "reset": "",
        "bytopic": "all",
        "topic": "topic",
        "outputs": 1,
        "x": 230,
        "y": 280,
        "wires": [
            [
                "9dca0c7a94093ec2",
                "c7071146f746b0eb"
            ]
        ]
    },
    {
        "id": "864422d70423f4bf",
        "type": "sort",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "order": "ascending",
        "as_num": false,
        "target": "list",
        "targetType": "msg",
        "msgKey": "payload",
        "msgKeyType": "elem",
        "seqKey": "payload",
        "seqKeyType": "msg",
        "x": 590,
        "y": 420,
        "wires": [
            [
                "e1977a6f0a8dce32"
            ]
        ]
    },
    {
        "id": "c7071146f746b0eb",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "index",
                "pt": "flow",
                "to": "0",
                "tot": "num"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 670,
        "y": 300,
        "wires": [
            []
        ]
    },
    {
        "id": "1d176eb5ca9241e7",
        "type": "debug",
        "z": "004fd76ebe3d4b43",
        "name": "debug 27",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 440,
        "y": 320,
        "wires": []
    },
    {
        "id": "deff5feb8f23168e",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "comtpeur_photo",
                "pt": "global",
                "to": "list.length",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 590,
        "y": 620,
        "wires": [
            [
                "7880d06fb1fe6e13"
            ]
        ]
    },
    {
        "id": "61b07a527373c73e",
        "type": "debug",
        "z": "004fd76ebe3d4b43",
        "name": "debug 29",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1120,
        "y": 720,
        "wires": []
    },
    {
        "id": "7880d06fb1fe6e13",
        "type": "change",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "comtpeur_photo",
                "tot": "global"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 850,
        "y": 660,
        "wires": [
            [
                "61b07a527373c73e"
            ]
        ]
    },
    {
        "id": "ac3a9d5f97652b9e",
        "type": "debug",
        "z": "004fd76ebe3d4b43",
        "name": "debug 30",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1240,
        "y": 200,
        "wires": []
    },
    {
        "id": "0ec8754dfad04ad5",
        "type": "debug",
        "z": "004fd76ebe3d4b43",
        "name": "debug 31",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1300,
        "y": 140,
        "wires": []
    },
    {
        "id": "1917e8be429f89a1",
        "type": "ui_button",
        "z": "004fd76ebe3d4b43",
        "name": "next_but",
        "group": "1206a460156bc9ae",
        "order": 44,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "{{flow.index_liste}}",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "skip_next",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 140,
        "y": 160,
        "wires": [
            [
                "9e3add95f8d82f66"
            ]
        ]
    },
    {
        "id": "d37eef9e10f8e304",
        "type": "ui_button",
        "z": "004fd76ebe3d4b43",
        "name": "prev_but",
        "group": "1206a460156bc9ae",
        "order": 42,
        "width": 2,
        "height": 1,
        "passthru": false,
        "label": "",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "skip_previous",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 140,
        "y": 200,
        "wires": [
            [
                "6a51fa1bc002735a"
            ]
        ]
    },
    {
        "id": "db2f628f79c13aca",
        "type": "ui_text",
        "z": "004fd76ebe3d4b43",
        "group": "1206a460156bc9ae",
        "order": 39,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "index",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1130,
        "y": 140,
        "wires": []
    },
    {
        "id": "ad2c6788e18c3d70",
        "type": "ui_text",
        "z": "004fd76ebe3d4b43",
        "group": "1206a460156bc9ae",
        "order": 40,
        "width": 0,
        "height": 0,
        "name": "",
        "label": "length",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1130,
        "y": 100,
        "wires": []
    },
    {
        "id": "12b795d90ea2787b",
        "type": "ui_media",
        "z": "004fd76ebe3d4b43",
        "group": "1206a460156bc9ae",
        "name": "img1",
        "width": 4,
        "height": 3,
        "order": 29,
        "category": "capture_photo",
        "file": "image02.jpg",
        "layout": "adjust",
        "showcontrols": true,
        "loop": true,
        "onstart": false,
        "scope": "local",
        "tooltip": "",
        "x": 1150,
        "y": 420,
        "wires": [
            []
        ]
    },
    {
        "id": "1051e89103a32e2f",
        "type": "ui_media",
        "z": "004fd76ebe3d4b43",
        "group": "1206a460156bc9ae",
        "name": "img2",
        "width": 4,
        "height": 3,
        "order": 30,
        "category": "capture_photo",
        "file": "image02.jpg",
        "layout": "adjust",
        "showcontrols": true,
        "loop": true,
        "onstart": false,
        "scope": "local",
        "tooltip": "",
        "x": 1150,
        "y": 460,
        "wires": [
            []
        ]
    },
    {
        "id": "68a83139960b7252",
        "type": "ui_media",
        "z": "004fd76ebe3d4b43",
        "group": "1206a460156bc9ae",
        "name": "img3",
        "width": 20,
        "height": 13,
        "order": 2,
        "category": "capture_photo",
        "file": "image02.jpg",
        "layout": "adjust",
        "showcontrols": true,
        "loop": true,
        "onstart": false,
        "scope": "local",
        "tooltip": "",
        "x": 1150,
        "y": 500,
        "wires": [
            []
        ]
    },
    {
        "id": "b9b098a07050f34f",
        "type": "ui_media",
        "z": "004fd76ebe3d4b43",
        "group": "1206a460156bc9ae",
        "name": "img4",
        "width": 4,
        "height": 3,
        "order": 32,
        "category": "capture_photo",
        "file": "image02.jpg",
        "layout": "adjust",
        "showcontrols": true,
        "loop": true,
        "onstart": false,
        "scope": "local",
        "tooltip": "",
        "x": 1150,
        "y": 540,
        "wires": [
            []
        ]
    },
    {
        "id": "b59b6356dbd62fd6",
        "type": "ui_media",
        "z": "004fd76ebe3d4b43",
        "group": "1206a460156bc9ae",
        "name": "img5",
        "width": 4,
        "height": 3,
        "order": 33,
        "category": "capture_photo",
        "file": "image02.jpg",
        "layout": "adjust",
        "showcontrols": true,
        "loop": true,
        "onstart": false,
        "scope": "local",
        "tooltip": "",
        "x": 1150,
        "y": 580,
        "wires": [
            []
        ]
    },
    {
        "id": "cdab3bc9e415b95a",
        "type": "fs-list",
        "z": "004fd76ebe3d4b43",
        "name": "",
        "path": "payload",
        "pathType": "msg",
        "pattern": "*",
        "patternType": "str",
        "filter": "all",
        "recursive": false,
        "follow": true,
        "property": "list",
        "propertyType": "msg",
        "x": 440,
        "y": 380,
        "wires": [
            [
                "2099104941a8c39f",
                "864422d70423f4bf",
                "deff5feb8f23168e"
            ]
        ]
    },
    {
        "id": "5199097776bf4f42",
        "type": "inject",
        "z": "test_tab_001",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 130,
        "y": 160,
        "wires": [
            [
                "c693401f5eaf99b0"
            ]
        ]
    },
    {
        "id": "aba1e7620377741b",
        "type": "function",
        "z": "test_tab_001",
        "name": "function 14",
        "func": "//msg.payload = msg.payload[0][\"Nom de naissance\"];\nconst annee=[];\n\nfor (let i = 0; i < msg.payload.length; i++) {\n    if (!annee.includes(msg.payload[i][\"Promotion\"])) {\n        annee.push(msg.payload[i][\"Promotion\"]);\n    }\n    \n    \n}\nannee.sort();\nmsg.payload=annee;\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 680,
        "y": 240,
        "wires": [
            [
                "6730ac2075d964f5"
            ]
        ]
    },
    {
        "id": "6730ac2075d964f5",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 870,
        "y": 240,
        "wires": [
            [
                "ba1de49267e5a808",
                "abef512966fd2066"
            ]
        ]
    },
    {
        "id": "327d2cd87b0bc4e9",
        "type": "function",
        "z": "test_tab_001",
        "name": "function 15",
        "func": "//msg.payload = msg.payload[0][\"Nom de naissance\"];\n\nconst list_eleve=[];\n\nfor (let i = 0; i < msg.payload.length; i++) {\n    if(msg.payload[i][\"Promotion\"]==msg.annee){\n        list_eleve.push(msg.payload[i][\"Nom et Prénom d'usage\"]);\n    }\n   \n    \n}\nlist_eleve.sort();\nmsg.payload=list_eleve;\n\nif (list_eleve.length === 1) {\n    // Définir automatiquement l'élève dans le flow\n    flow.set('eleve', list_eleve[0]);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 830,
        "y": 340,
        "wires": [
            [
                "325172790c7d6837"
            ]
        ]
    },
    {
        "id": "c87dede7c3ea6d24",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "annee",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 240,
        "wires": [
            [
                "cf2005064aeefb8d"
            ]
        ]
    },
    {
        "id": "8e7c8d1e4875345c",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "annee",
                "pt": "msg",
                "to": "annee",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 650,
        "y": 340,
        "wires": [
            [
                "327d2cd87b0bc4e9"
            ]
        ]
    },
    {
        "id": "325172790c7d6837",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "options",
                "pt": "msg",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1030,
        "y": 340,
        "wires": [
            [
                "715d5ec20e958988"
            ]
        ]
    },
    {
        "id": "02d7cec45b74eee0",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "impr3d_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 780,
        "wires": [
            []
        ]
    },
    {
        "id": "a5486c0a0e38a5ee",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "laser_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 1040,
        "wires": [
            []
        ]
    },
    {
        "id": "e04307cc04cbd8cf",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "reglement_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1490,
        "y": 1240,
        "wires": [
            []
        ]
    },
    {
        "id": "ce094b0a9cb270d8",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "cao_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1430,
        "y": 1360,
        "wires": [
            []
        ]
    },
    {
        "id": "c1e83eddd612a882",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filament",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1470,
        "y": 900,
        "wires": [
            [
                "ddcd5f9451febddb"
            ]
        ]
    },
    {
        "id": "7d74c3261937c256",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mat_laser",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            },
            {
                "t": "delete",
                "p": "payload",
                "pt": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1450,
        "y": 1140,
        "wires": [
            [
                "2d156a39325298be"
            ]
        ]
    },
    {
        "id": "a2b51d3742f12645",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "filament_gr",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1930,
        "y": 940,
        "wires": [
            [
                "7cebf610dd800332"
            ]
        ]
    },
    {
        "id": "64b9e5cd34a9104e",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "mat_laser_qte",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2130,
        "y": 1040,
        "wires": [
            [
                "c321c5ee6106d86e"
            ]
        ]
    },
    {
        "id": "3fc66bc346f9018b",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "eleve",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1380,
        "y": 340,
        "wires": [
            [
                "7f71b7c77c94c902"
            ]
        ]
    },
    {
        "id": "83bfc8a875145ba2",
        "type": "debug",
        "z": "test_tab_001",
        "name": "debug 32",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 360,
        "y": 820,
        "wires": []
    },
    {
        "id": "e80a4727e8a6c53f",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "annee",
                "pt": "msg",
                "to": "annee",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "eleve",
                "pt": "msg",
                "to": "eleve",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "impr3d_bool",
                "pt": "msg",
                "to": "impr3d_bool",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "filament",
                "pt": "msg",
                "to": "filament",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "filament_gr",
                "pt": "msg",
                "to": "filament_gr",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "laser_bool",
                "pt": "msg",
                "to": "laser_bool",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "mat_laser",
                "pt": "msg",
                "to": "mat_laser",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "mat_laser_qte",
                "pt": "msg",
                "to": "mat_laser_qte",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "reglement_bool",
                "pt": "msg",
                "to": "reglement_bool",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "cao_bool",
                "pt": "msg",
                "to": "cao_bool",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "prix_laser",
                "pt": "msg",
                "to": "prix_laser",
                "tot": "flow"
            },
            {
                "t": "set",
                "p": "prix_3d",
                "pt": "msg",
                "to": "prix_3d",
                "tot": "flow"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 180,
        "y": 900,
        "wires": [
            [
                "83bfc8a875145ba2",
                "1dfb885551b2b1a4"
            ]
        ]
    },
    {
        "id": "46496866b346d64c",
        "type": "function",
        "z": "test_tab_001",
        "name": "function 16",
        "func": "\nswitch (msg.payload) {\n  case 'PLA':\n    msg.payload=19.9;\n    break;\n  case 'PLA flex':\n    msg.payload=50;\n    break;\n  case 'PLA transparent':\n    msg.payload=40;\n    break;\n  case 'PLA bois':\n    msg.payload=51.8;\n    break;\n  default:\n    console.log(`type filament`);\n}\n\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 860,
        "wires": [
            [
                "52f8ec3eb85d95ea"
            ]
        ]
    },
    {
        "id": "7cebf610dd800332",
        "type": "function",
        "z": "test_tab_001",
        "name": "function 17",
        "func": "let prix_kg;\n\nswitch (flow.get(\"filament\")) {\n  case 'PLA':\n    prix_kg=19.9;\n    break;\n  case 'PLA flex':\n    prix_kg=50;\n    break;\n  case 'PLA transparent':\n    prix_kg=40;\n    break; \n  case 'PLA bois':\n    prix_kg = 51.8;\n    break;\n  default:\n    console.log(`type filament`);\n}\n\nconst prix = prix_kg*parseInt(msg.payload)/1000;\nflow.set('prix_3d',prix);\nmsg.payload=prix;\nmsg.prix_kg=prix_kg;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2110,
        "y": 940,
        "wires": [
            [
                "a4fe69580356a279"
            ]
        ]
    },
    {
        "id": "32b9e3674ec9b089",
        "type": "function",
        "z": "test_tab_001",
        "name": "function 18",
        "func": "\nswitch (msg.payload) {\n  case 'PMMA 3mm':\n    msg.payload=7.8;\n    break;\n  case 'PMMA 5mm':\n    msg.payload=12.59;\n    break;\n  case 'CP 3mm':\n    msg.payload=3;\n    break;\n  case 'CP 5mm':\n    msg.payload=3.3;\n    break;\n  default:\n    console.log(`type filament`);\n}\n\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1430,
        "y": 1100,
        "wires": [
            [
                "03ddbfa7f18488b5"
            ]
        ]
    },
    {
        "id": "c321c5ee6106d86e",
        "type": "function",
        "z": "test_tab_001",
        "name": "function 19",
        "func": "let prix_u;\n\nswitch (flow.get(\"mat_laser\")) {\n  case 'PMMA 3mm':\n    prix_u=7.8;\n    break;\n  case 'PMMA 5mm':\n    prix_u=12.59;\n    break;\n  case 'CP 3mm':\n    prix_u=3;\n    break;\n  case 'CP 5mm':\n    prix_u=3.3;\n    break;\n  default:\n    console.log(`type filament`);\n}\n\nconst prix = prix_u*parseInt(msg.payload);\nflow.set('prix_laser',prix);\nmsg.payload=prix;\nreturn msg;",
        "outputs": 1,
        "timeout": 0,
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 2320,
        "y": 1040,
        "wires": [
            [
                "111842c30eb7a261"
            ]
        ]
    },
    {
        "id": "85b312e2b6f74d91",
        "type": "debug",
        "z": "test_tab_001",
        "name": "",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1970,
        "y": 300,
        "wires": []
    },
    {
        "id": "a9bf2db4e7889f77",
        "type": "function",
        "z": "test_tab_001",
        "name": "TABLE",
        "func": "topic = \"CREATE TABLE `usage_lab_prod` ( \";\ntopic = topic + \"`no` INT NULL AUTO_INCREMENT,\";\ntopic = topic + \"`date` TIMESTAMP NOT NULL,\";\ntopic = topic + \"`classe` VARCHAR(80) NULL,\";\ntopic = topic + \"`nom` VARCHAR(80) NULL,\";\ntopic = topic + \"`fabrication` VARCHAR(80) NULL,\";\ntopic = topic + \"`prix` VARCHAR(80) NULL,\";\ntopic = topic + \"`reglement` BOOLEAN,\";\ntopic = topic + \"`CAO` BOOLEAN,\";\ntopic = topic + \"INDEX `no` (`no`)) COLLATE='latin1_swedish_ci';\";\nmsg.topic = topic;\n\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1870,
        "y": 240,
        "wires": [
            [
                "86cb65ab500a12e7"
            ]
        ]
    },
    {
        "id": "1dfb885551b2b1a4",
        "type": "function",
        "z": "test_tab_001",
        "name": "INSERT",
        "func": "//if (Math.random() < 0.5) { room = 503;}else{ room = 602; }\n//if (Math.random() < 0.5) { id = 9909;}else{ id = 1893; }\nlet classe =msg.annee;\nlet nom = msg.eleve;\nlet fabrication=\"\";\nlet prix =0;\nif (msg.impr3d_bool)fabrication = '3d :'+ msg.filament +\" : \" + msg.filament_gr + \"gr\";\nif(msg.laser_bool)fabrication = fabrication +' // las :'  + msg.mat_laser +\" : \"+ msg.mat_laser_qte;\nlet prix_3d = flow.get('prix_3d');\nlet prix_laser = flow.get('prix_laser');\n\nlet bdd_bool = flow.get(\"bdd_bool\");\nlet table_name =\"usage_lab_test\";\nif (bdd_bool){\n    table_name=\"usage_lab\";\n}\nelse{\n    table_name=\"usage_lab_test\";\n}\n\nlet remarques = flow.get('remarques');\n\n\nif (msg.impr3d_bool)prix += parseFloat(prix_3d);\nif(msg.laser_bool)prix += parseFloat(prix_laser);\n//let prix = \"sousou\";\nlet reglement;\nif (flow.get('reglement_bool')){\n    reglement = 'true';\n}\nelse{\n    reglement = 'false';\n}\n\nlet cao;\nif (flow.get('cao_bool')){\n    cao = 'true';\n}\nelse{\n    cao = 'false';\n}\n\nlet date = new Date();\ndate = date.getDate() + \"/\" + (date.getMonth() + 1) + \"/\" + date.getFullYear() + \"  \" + \n      date.getHours() + \":\" + date.getMinutes() + \":\" + date.getSeconds();\n//let reglement = \"reglement\";\n\n//let Cao = flow.get('cao_bool');\n//let Cao = \"cao\";\n\nlet topic;\n//let Cao = msg.cao_bool;\n\n\ntopic = \"INSERT INTO `nodered`.`\";\ntopic = topic + table_name+\"` (classe, nom, fabrication, prix, reglement, CAO, remarques, date_entr) VALUES ('\";\ntopic = topic + classe +\"', '\";\ntopic = topic + nom + \"', '\";\ntopic = topic + fabrication + \"', '\";\ntopic = topic + prix + \"', \";\ntopic = topic + reglement + \", \";\ntopic = topic + cao + \", '\";\ntopic = topic + remarques + \"', '\";\ntopic = topic + date + \"'); \";\n\nmsg.topic = topic;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 400,
        "y": 900,
        "wires": [
            [
                "26a75cce05f63d51"
            ]
        ]
    },
    {
        "id": "5f3e005b7ec8ca06",
        "type": "inject",
        "z": "test_tab_001",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": false,
        "onceDelay": 0.1,
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 170,
        "y": 940,
        "wires": [
            [
                "1dfb885551b2b1a4"
            ]
        ]
    },
    {
        "id": "eda577487cc7e102",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "resetSearch",
                "pt": "msg",
                "to": "true",
                "tot": "bool"
            },
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "false",
                "tot": "bool"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 700,
        "y": 960,
        "wires": [
            [
                "141ccd067a9c104b",
                "bf16d1122e01ce07",
                "6b4df6a50bc83580",
                "a644b18c49e8fbae",
                "5b79cb0b332dcb20",
                "385ae025df0520e3",
                "97e3e9ccccbcae7b",
                "60a7a291bd69592d",
                "de1af86d4fd27b98"
            ]
        ]
    },
    {
        "id": "5b79cb0b332dcb20",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "0",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1250,
        "y": 960,
        "wires": [
            [
                "ddcd5f9451febddb",
                "2d156a39325298be"
            ]
        ]
    },
    {
        "id": "bbe3d9db87bd3ba8",
        "type": "debug",
        "z": "test_tab_001",
        "name": "debug 33",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1380,
        "y": 400,
        "wires": []
    },
    {
        "id": "e17b038fc0a048ca",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "bdd_bool",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 340,
        "y": 1220,
        "wires": [
            [
                "60a7a291bd69592d"
            ]
        ]
    },
    {
        "id": "80ea44898ae5efe8",
        "type": "debug",
        "z": "test_tab_001",
        "name": "debug 34",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 2120,
        "y": 1340,
        "wires": []
    },
    {
        "id": "cde2c82b88668ced",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "remarques",
                "pt": "flow",
                "to": "payload",
                "tot": "msg"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 2160,
        "y": 1400,
        "wires": [
            []
        ]
    },
    {
        "id": "385ae025df0520e3",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "payload",
                "pt": "msg",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 1690,
        "y": 1280,
        "wires": [
            [
                "bb79787c894cdc0b"
            ]
        ]
    },
    {
        "id": "7f71b7c77c94c902",
        "type": "debug",
        "z": "test_tab_001",
        "name": "debug 35",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1600,
        "y": 400,
        "wires": []
    },
    {
        "id": "3b6a84cd9e9505bf",
        "type": "debug",
        "z": "test_tab_001",
        "name": "debug 36",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 680,
        "y": 160,
        "wires": []
    },
    {
        "id": "c693401f5eaf99b0",
        "type": "change",
        "z": "test_tab_001",
        "name": "",
        "rules": [
            {
                "t": "set",
                "p": "default_annee",
                "pt": "global",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "default_eleve",
                "pt": "global",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "default_impr3d_bool",
                "pt": "global",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "default_filament",
                "pt": "global",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "default_filament_gr",
                "pt": "global",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "default_laser_bool",
                "pt": "global",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "default_mat_laser",
                "pt": "global",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "default_mat_laser_qte",
                "pt": "global",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "default_reglement_bool",
                "pt": "global",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "default_cao_bool",
                "pt": "global",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "default_prix_laser",
                "pt": "global",
                "to": "",
                "tot": "str"
            },
            {
                "t": "set",
                "p": "default_prix_3d",
                "pt": "global",
                "to": "",
                "tot": "str"
            }
        ],
        "action": "",
        "property": "",
        "from": "",
        "to": "",
        "reg": false,
        "x": 320,
        "y": 160,
        "wires": [
            [
                "6e039010befbe73b"
            ]
        ]
    },
    {
        "id": "abef512966fd2066",
        "type": "debug",
        "z": "test_tab_001",
        "name": "debug 37",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "payload",
        "targetType": "msg",
        "statusVal": "",
        "statusType": "auto",
        "x": 1060,
        "y": 160,
        "wires": []
    },
    {
        "id": "6e039010befbe73b",
        "type": "debug",
        "z": "test_tab_001",
        "name": "globals",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 500,
        "y": 160,
        "wires": []
    },
    {
        "id": "97e3e9ccccbcae7b",
        "type": "debug",
        "z": "test_tab_001",
        "name": "resetSearch?",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 670,
        "y": 1020,
        "wires": []
    },
    {
        "id": "7d2634c54b02bb68",
        "type": "inject",
        "z": "test_tab_001",
        "name": "",
        "props": [
            {
                "p": "payload"
            },
            {
                "p": "topic",
                "vt": "str"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "0.5",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 650,
        "y": 900,
        "wires": [
            [
                "eda577487cc7e102"
            ]
        ]
    },
    {
        "id": "60a7a291bd69592d",
        "type": "function",
        "z": "test_tab_001",
        "name": "SELECT",
        "func": "let bdd_bool = flow.get(\"bdd_bool\");\nlet table_name = \"usage_lab_test\";\n\nif (bdd_bool) {\n    table_name = \"usage_lab\";\n}\nelse {\n    table_name = \"usage_lab_test\";\n}\n\nlet topic = \"\";\ntopic = \"SELECT * FROM `nodered`.`\";\ntopic = topic + table_name + \"` ORDER BY no DESC;\";\n\n\nvar newMsg = {\n    \"topic\": topic\n}\nreturn newMsg;\n",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 540,
        "y": 1220,
        "wires": [
            [
                "8f38ca494de7d3a1",
                "a3e94676fed1bc36"
            ]
        ]
    },
    {
        "id": "a3e94676fed1bc36",
        "type": "debug",
        "z": "test_tab_001",
        "name": "debug 39",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 720,
        "y": 1180,
        "wires": []
    },
    {
        "id": "6d67b9766ba0e39c",
        "type": "comment",
        "z": "test_tab_001",
        "name": "en cas de bug",
        "info": "",
        "x": 310,
        "y": 280,
        "wires": []
    },
    {
        "id": "75974a99e67738c9",
        "type": "ui_button",
        "z": "test_tab_001",
        "name": "",
        "group": "3f0df9d3616d3899",
        "order": 39,
        "width": 0,
        "height": 0,
        "passthru": false,
        "label": "Valider",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 170,
        "y": 820,
        "wires": [
            [
                "e80a4727e8a6c53f"
            ]
        ]
    },
    {
        "id": "d01e60f5f0af1df5",
        "type": "ui_button",
        "z": "test_tab_001",
        "name": "",
        "group": "3f0df9d3616d3899",
        "order": 1,
        "width": 1,
        "height": 1,
        "passthru": false,
        "label": "reset",
        "tooltip": "",
        "color": "",
        "bgcolor": "",
        "className": "",
        "icon": "",
        "payload": "",
        "payloadType": "str",
        "topic": "topic",
        "topicType": "msg",
        "x": 310,
        "y": 240,
        "wires": [
            [
                "f4f401acb784a89d"
            ]
        ]
    },
    {
        "id": "ba1de49267e5a808",
        "type": "ui_dropdown",
        "z": "test_tab_001",
        "name": "",
        "label": "Année / Classe",
        "tooltip": "",
        "place": "Select option",
        "group": "3f0df9d3616d3899",
        "order": 2,
        "width": 6,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 1060,
        "y": 240,
        "wires": [
            [
                "c87dede7c3ea6d24"
            ]
        ]
    },
    {
        "id": "715d5ec20e958988",
        "type": "ui_dropdown",
        "z": "test_tab_001",
        "name": "",
        "label": "Eleve",
        "tooltip": "",
        "place": "Select option",
        "group": "3f0df9d3616d3899",
        "order": 4,
        "width": 6,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 1210,
        "y": 340,
        "wires": [
            [
                "3fc66bc346f9018b",
                "bbe3d9db87bd3ba8"
            ]
        ]
    },
    {
        "id": "071db0f4a2418b79",
        "type": "ui_dropdown",
        "z": "test_tab_001",
        "name": "",
        "label": "Type Filament",
        "tooltip": "",
        "place": "Select option",
        "group": "3f0df9d3616d3899",
        "order": 15,
        "width": 6,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "PLA",
                "type": "str"
            },
            {
                "label": "",
                "value": "PLA flex",
                "type": "str"
            },
            {
                "label": "",
                "value": "PLA transparent",
                "type": "str"
            },
            {
                "label": "",
                "value": "PLA bois",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 1250,
        "y": 860,
        "wires": [
            [
                "c1e83eddd612a882",
                "46496866b346d64c"
            ]
        ]
    },
    {
        "id": "2a5f57fbedbd386c",
        "type": "ui_dropdown",
        "z": "test_tab_001",
        "name": "",
        "label": "Materiel Laser",
        "tooltip": "",
        "place": "Select option",
        "group": "3f0df9d3616d3899",
        "order": 17,
        "width": 6,
        "height": 1,
        "passthru": true,
        "multiple": false,
        "options": [
            {
                "label": "",
                "value": "CP 3mm",
                "type": "str"
            },
            {
                "label": "",
                "value": "CP 5mm",
                "type": "str"
            },
            {
                "label": "",
                "value": "PMMA 3mm",
                "type": "str"
            },
            {
                "label": "",
                "value": "PMMA 5mm",
                "type": "str"
            }
        ],
        "payload": "",
        "topic": "topic",
        "topicType": "msg",
        "className": "",
        "x": 1250,
        "y": 1100,
        "wires": [
            [
                "7d74c3261937c256",
                "32b9e3674ec9b089"
            ]
        ]
    },
    {
        "id": "bf16d1122e01ce07",
        "type": "ui_switch",
        "z": "test_tab_001",
        "name": "",
        "label": "Impression 3D",
        "tooltip": "",
        "group": "3f0df9d3616d3899",
        "order": 9,
        "width": 6,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 1250,
        "y": 800,
        "wires": [
            [
                "02d7cec45b74eee0"
            ]
        ]
    },
    {
        "id": "141ccd067a9c104b",
        "type": "ui_switch",
        "z": "test_tab_001",
        "name": "",
        "label": "Découpeuse laser",
        "tooltip": "",
        "group": "3f0df9d3616d3899",
        "order": 11,
        "width": 6,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 1260,
        "y": 1040,
        "wires": [
            [
                "a5486c0a0e38a5ee"
            ]
        ]
    },
    {
        "id": "a644b18c49e8fbae",
        "type": "ui_switch",
        "z": "test_tab_001",
        "name": "",
        "label": "CAO",
        "tooltip": "",
        "group": "3f0df9d3616d3899",
        "order": 24,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 1260,
        "y": 1360,
        "wires": [
            [
                "ce094b0a9cb270d8"
            ]
        ]
    },
    {
        "id": "6b4df6a50bc83580",
        "type": "ui_switch",
        "z": "test_tab_001",
        "name": "",
        "label": "reglement",
        "tooltip": "",
        "group": "3f0df9d3616d3899",
        "order": 13,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 1280,
        "y": 1240,
        "wires": [
            [
                "e04307cc04cbd8cf"
            ]
        ]
    },
    {
        "id": "d37b9b7560b3030f",
        "type": "ui_switch",
        "z": "test_tab_001",
        "name": "",
        "label": "BDD_Prod",
        "tooltip": "",
        "group": "3f0df9d3616d3899",
        "order": 6,
        "width": 3,
        "height": 1,
        "passthru": true,
        "decouple": "false",
        "topic": "topic",
        "topicType": "msg",
        "style": "",
        "onvalue": "true",
        "onvalueType": "bool",
        "onicon": "",
        "oncolor": "",
        "offvalue": "false",
        "offvalueType": "bool",
        "officon": "",
        "offcolor": "",
        "animate": false,
        "className": "",
        "x": 150,
        "y": 1220,
        "wires": [
            [
                "e17b038fc0a048ca"
            ]
        ]
    },
    {
        "id": "2d156a39325298be",
        "type": "ui_text_input",
        "z": "test_tab_001",
        "name": "",
        "label": "Quantité (unité)",
        "tooltip": "",
        "group": "3f0df9d3616d3899",
        "order": 22,
        "width": 6,
        "height": 1,
        "passthru": true,
        "mode": "number",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 1920,
        "y": 1040,
        "wires": [
            [
                "64b9e5cd34a9104e"
            ]
        ]
    },
    {
        "id": "ddcd5f9451febddb",
        "type": "ui_text_input",
        "z": "test_tab_001",
        "name": "",
        "label": "Quantité (en gr)",
        "tooltip": "",
        "group": "3f0df9d3616d3899",
        "order": 20,
        "width": 6,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 1730,
        "y": 940,
        "wires": [
            [
                "a2b51d3742f12645"
            ]
        ]
    },
    {
        "id": "bb79787c894cdc0b",
        "type": "ui_text_input",
        "z": "test_tab_001",
        "name": "",
        "label": "Remarques",
        "tooltip": "",
        "group": "3f0df9d3616d3899",
        "order": 37,
        "width": 9,
        "height": 1,
        "passthru": true,
        "mode": "text",
        "delay": 300,
        "topic": "topic",
        "sendOnBlur": true,
        "className": "",
        "topicType": "msg",
        "x": 1900,
        "y": 1340,
        "wires": [
            [
                "80ea44898ae5efe8",
                "cde2c82b88668ced"
            ]
        ]
    },
    {
        "id": "52f8ec3eb85d95ea",
        "type": "ui_text",
        "z": "test_tab_001",
        "group": "3f0df9d3616d3899",
        "order": 27,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "€/kg",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1580,
        "y": 860,
        "wires": []
    },
    {
        "id": "a4fe69580356a279",
        "type": "ui_text",
        "z": "test_tab_001",
        "group": "3f0df9d3616d3899",
        "order": 32,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Prix Impression",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 2270,
        "y": 940,
        "wires": []
    },
    {
        "id": "03ddbfa7f18488b5",
        "type": "ui_text",
        "z": "test_tab_001",
        "group": "3f0df9d3616d3899",
        "order": 29,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "€/unité",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 1570,
        "y": 1100,
        "wires": []
    },
    {
        "id": "111842c30eb7a261",
        "type": "ui_text",
        "z": "test_tab_001",
        "group": "3f0df9d3616d3899",
        "order": 34,
        "width": 4,
        "height": 1,
        "name": "",
        "label": "Prix materiaux",
        "format": "{{msg.payload}}",
        "layout": "row-spread",
        "className": "",
        "style": false,
        "font": "",
        "fontSize": 16,
        "color": "#000000",
        "x": 2480,
        "y": 1040,
        "wires": []
    },
    {
        "id": "f4f401acb784a89d",
        "type": "alafile in",
        "z": "test_tab_001",
        "name": "",
        "filename": "/home/pi/Documents/test",
        "format": "xlsx",
        "columns": "*",
        "headers": true,
        "x": 510,
        "y": 240,
        "wires": [
            [
                "aba1e7620377741b",
                "3b6a84cd9e9505bf"
            ]
        ]
    },
    {
        "id": "629f1a027442594a",
        "type": "alafile in",
        "z": "test_tab_001",
        "name": "",
        "filename": "/home/pi/Documents/test",
        "format": "xlsx",
        "columns": "*",
        "headers": true,
        "x": 490,
        "y": 340,
        "wires": [
            [
                "8e7c8d1e4875345c"
            ]
        ]
    },
    {
        "id": "26a75cce05f63d51",
        "type": "mysql",
        "z": "test_tab_001",
        "mydb": "f3318311c7abaf8f",
        "name": "mariadb",
        "x": 440,
        "y": 960,
        "wires": [
            [
                "eda577487cc7e102"
            ]
        ]
    },
    {
        "id": "86cb65ab500a12e7",
        "type": "mysql",
        "z": "test_tab_001",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 1800,
        "y": 300,
        "wires": [
            [
                "85b312e2b6f74d91"
            ]
        ]
    },
    {
        "id": "8f38ca494de7d3a1",
        "type": "mysql",
        "z": "test_tab_001",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 720,
        "y": 1260,
        "wires": [
            [
                "a4dc70681e2e2d2f",
                "a24e4e6ac780469b"
            ]
        ]
    },
    {
        "id": "a4dc70681e2e2d2f",
        "type": "ui_table",
        "z": "test_tab_001",
        "group": "eb348c43ea325940",
        "name": "",
        "order": 1,
        "width": 19,
        "height": 11,
        "columns": [],
        "outputs": 1,
        "cts": true,
        "x": 850,
        "y": 1260,
        "wires": [
            []
        ]
    },
    {
        "id": "a24e4e6ac780469b",
        "type": "debug",
        "z": "test_tab_001",
        "name": "debug 1",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 900,
        "y": 1180,
        "wires": []
    },
    {
        "id": "inject_last_students",
        "type": "inject",
        "z": "test_tab_001",
        "name": "Get Last Students",
        "props": [
            {
                "p": "payload"
            }
        ],
        "repeat": "",
        "crontab": "",
        "once": true,
        "onceDelay": "1",
        "topic": "",
        "payload": "",
        "payloadType": "date",
        "x": 100,
        "y": 1480,
        "wires": [
            [
                "function_SELECT"
            ]
        ]
    },
    {
        "id": "function_SELECT",
        "type": "function",
        "z": "test_tab_001",
        "name": "SELECT LAST STUDENTS",
        "func": "// Récupération du booléen pour savoir quelle table utiliser\nlet bdd_bool = flow.get(\"bdd_bool\");\nlet table_name = (bdd_bool) ? \"usage_lab\" : \"usage_lab_test\";\n\n// Construction de la requête SQL\nlet topic = \"SELECT nom, classe, MAX(date) AS derniere_utilisation FROM `nodered`.`\" + table_name + \"` GROUP BY nom, classe ORDER BY derniere_utilisation DESC LIMIT 10;\";\n\nmsg.topic = topic;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 330,
        "y": 1480,
        "wires": [
            [
                "mysql_last_students"
            ]
        ]
    },
    {
        "id": "mysql_last_students",
        "type": "mysql",
        "z": "test_tab_001",
        "mydb": "f3318311c7abaf8f",
        "name": "",
        "x": 540,
        "y": 1480,
        "wires": [
            [
                "function_format"
            ]
        ]
    },
    {
        "id": "function_format",
        "type": "function",
        "z": "test_tab_001",
        "name": "Format Last Students",
        "func": "// On suppose que msg.payload contient le tableau de résultats SQL\n// On mappe pour ne retenir que { nom, classe }\nmsg.lastStudents = msg.payload.map(el => { \n    return { classe: el.classe, nom: el.nom};\n});\n\n// Transmet le tableau pour le ui_template\nmsg.payload = msg.lastStudents;\nreturn msg;",
        "outputs": 1,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 740,
        "y": 1480,
        "wires": [
            [
                "ui_template_buttons"
            ]
        ]
    },
    {
        "id": "ui_template_buttons",
        "type": "ui_template",
        "z": "test_tab_001",
        "group": "9fbd1a17f1217b11",
        "name": "Last Students Buttons",
        "order": 1,
        "width": 19,
        "height": 11,
        "format": "<div layout=\"column\" layout-wrap>\n  <div ng-repeat=\"el in msg.payload\" style=\"margin:10px;\">\n    <md-button class=\"md-raised md-primary\" ng-click=\"send({payload: el})\">\n      {{el.classe}} <span ng-if=\"el.classe\">{{el.nom}}</span>\n    </md-button>\n  </div>\n</div>\nreturn (msg);",
        "storeOutMessages": false,
        "fwdInMessages": false,
        "resendOnRefresh": true,
        "templateScope": "local",
        "className": "",
        "x": 960,
        "y": 1480,
        "wires": [
            [
                "function_set_selected",
                "6165f5ac9579acbe"
            ]
        ]
    },
    {
        "id": "function_set_selected",
        "type": "function",
        "z": "test_tab_001",
        "name": "Set Selected Student",
        "func": "\nmsg.options= msg.payload.classe;\n\nlet msg1 = Object.assign({}, msg);\nlet msg2 = msg;\n\nmsg2.options=msg.payload.nom;\n\nreturn [msg1,msg2];\n",
        "outputs": 2,
        "timeout": "",
        "noerr": 0,
        "initialize": "",
        "finalize": "",
        "libs": [],
        "x": 1180,
        "y": 1480,
        "wires": [
            [
                "197f22faecc6c2e8",
                "dc83ca62f5aa5f89"
            ],
            [
                "0f56706617290f0e",
                "2934845b91ab8bc9"
            ]
        ]
    },
    {
        "id": "197f22faecc6c2e8",
        "type": "link out",
        "z": "test_tab_001",
        "name": "link out 2",
        "mode": "link",
        "links": [
            "1b3b44f86ae626c6"
        ],
        "x": 1355,
        "y": 1440,
        "wires": []
    },
    {
        "id": "1b3b44f86ae626c6",
        "type": "link in",
        "z": "test_tab_001",
        "name": "link in 2",
        "links": [
            "197f22faecc6c2e8",
            "de1af86d4fd27b98"
        ],
        "x": 965,
        "y": 280,
        "wires": [
            [
                "ba1de49267e5a808"
            ]
        ]
    },
    {
        "id": "8a60fcee97ca7722",
        "type": "link in",
        "z": "test_tab_001",
        "name": "link in 3",
        "links": [
            "cf2005064aeefb8d"
        ],
        "x": 405,
        "y": 340,
        "wires": [
            [
                "629f1a027442594a"
            ]
        ]
    },
    {
        "id": "cf2005064aeefb8d",
        "type": "link out",
        "z": "test_tab_001",
        "name": "link out 3",
        "mode": "link",
        "links": [
            "8a60fcee97ca7722"
        ],
        "x": 1445,
        "y": 240,
        "wires": []
    },
    {
        "id": "de1af86d4fd27b98",
        "type": "link out",
        "z": "test_tab_001",
        "name": "link out 4",
        "mode": "link",
        "links": [
            "1b3b44f86ae626c6",
            "d817f2a7d4e644b2"
        ],
        "x": 885,
        "y": 860,
        "wires": []
    },
    {
        "id": "0f56706617290f0e",
        "type": "debug",
        "z": "test_tab_001",
        "name": "debug 3",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1400,
        "y": 1560,
        "wires": []
    },
    {
        "id": "dc83ca62f5aa5f89",
        "type": "debug",
        "z": "test_tab_001",
        "name": "debug 4",
        "active": false,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "true",
        "targetType": "full",
        "statusVal": "",
        "statusType": "auto",
        "x": 1400,
        "y": 1480,
        "wires": []
    },
    {
        "id": "d817f2a7d4e644b2",
        "type": "link in",
        "z": "test_tab_001",
        "name": "link in 4",
        "links": [
            "de1af86d4fd27b98",
            "2c55ac2da9fe2ae4"
        ],
        "x": 1105,
        "y": 300,
        "wires": [
            [
                "715d5ec20e958988"
            ]
        ]
    },
    {
        "id": "2c55ac2da9fe2ae4",
        "type": "link out",
        "z": "test_tab_001",
        "name": "link out 5",
        "mode": "link",
        "links": [
            "d817f2a7d4e644b2"
        ],
        "x": 1535,
        "y": 1520,
        "wires": []
    },
    {
        "id": "6165f5ac9579acbe",
        "type": "debug",
        "z": "test_tab_001",
        "name": "debug 6",
        "active": true,
        "tosidebar": true,
        "console": false,
        "tostatus": false,
        "complete": "false",
        "statusVal": "",
        "statusType": "auto",
        "x": 1160,
        "y": 1580,
        "wires": []
    },
    {
        "id": "2934845b91ab8bc9",
        "type": "timer-node",
        "z": "test_tab_001",
        "name": "",
        "topic": "",
        "timer": 5,
        "payloadOn": "true",
        "payloadOnType": "bool",
        "payloadOff": "false",
        "payloadOffType": "bool",
        "x": 1410,
        "y": 1520,
        "wires": [
            [
                "2c55ac2da9fe2ae4"
            ],
            []
        ]
    }
]